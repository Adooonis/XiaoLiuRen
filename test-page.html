<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æµ‹è¯•é¡µé¢ - å°å…­å£¬ç¥è¯¾</title>
    <style>
        /* å¼•å…¥Google Fonts - æ€æºå®‹ä½“å’Œä»¿å®‹ä½“ */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;500;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Serif SC', serif;
            background: #000000;
            color: #FFFFFF;
            min-height: 100vh;
            padding: 16px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: #1a1a1a;
            border-radius: 8px;
            box-shadow: 0 8px 32px rgba(255, 255, 255, 0.1);
            overflow: hidden;
            border: 1px solid #333333;
        }
        
        .header {
            text-align: center;
            padding: 32px 16px;
            background: #2a2a2a;
            border-bottom: 1px solid #333333;
        }
        
        .header h1 {
            font-size: 32px;
            font-weight: 700;
            color: #ffffff;
            margin-bottom: 8px;
            letter-spacing: 2px;
        }
        
        .header p {
            font-size: 14px;
            color: #cccccc;
            line-height: 1.6;
        }
        
        .content {
            padding: 32px 24px;
        }
        
        .form-section {
            margin-bottom: 32px;
            padding: 24px;
            background: #222222;
            border-radius: 8px;
            border: 1px solid #333333;
        }
        
        .form-group {
            margin-bottom: 16px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-size: 16px;
            font-weight: 500;
            color: #ffffff;
        }
        
        .form-textarea {
            width: 100%;
            min-height: 100px;
            padding: 12px 16px;
            background: #333333;
            border: 1px solid #444444;
            border-radius: 4px;
            color: #ffffff;
            font-size: 16px;
            font-family: 'Noto Serif SC', serif;
            resize: vertical;
            outline: none;
        }
        
        .form-textarea:focus {
            border-color: #666666;
            background: #333333;
        }
        
        .submit-btn {
            background: #444444;
            color: #FFFFFF;
            border: 1px solid #666666;
            border-radius: 4px;
            padding: 12px 48px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 250ms ease;
            font-family: 'Noto Serif SC', serif;
            display: block;
            margin: 32px auto 0;
        }
        
        .submit-btn:hover {
            background: #555555;
            transform: translateY(-2px);
        }
        
        .submit-btn:disabled {
            background: #2a2a2a;
            color: #888888;
            cursor: not-allowed;
            transform: none;
        }
        
        .result-section {
            display: none;
            border-top: 1px solid #333333;
            padding-top: 32px;
            margin-top: 32px;
            background: #222222;
            border-radius: 8px;
        }
        
        .result-section.show {
            display: block;
        }
        
        .result-section h2 {
            font-size: 24px;
            font-weight: 700;
            color: #ffffff;
            margin-bottom: 16px;
            text-align: center;
        }
        
        .result-content {
            background: #333333;
            padding: 24px;
            border-radius: 4px;
            margin: 16px 0;
        }
        
        /* å…­ç¥ä»‹ç»æ ·å¼ */
        .gods-intro-section {
            margin: 32px 0;
            text-align: center;
            background: #222222;
            padding: 32px 24px;
            border-radius: 8px;
            border: 1px solid #333333;
        }
        
        .intro-text {
            color: #cccccc;
            margin-bottom: 24px;
            font-size: 14px;
        }
        
        .grid-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .grid-god {
            padding: 24px 12px;
            background: #333333;
            border: 1px solid #444444;
            border-radius: 4px;
            color: #ffffff;
            font-weight: 700;
            cursor: pointer;
            transition: all 250ms ease;
            text-align: center;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .grid-god:hover {
            background: #444444;
            transform: translateY(-2px);
        }
        
        .grid-god.selected {
            background: #555555;
            border-color: #666666;
        }
        
        .debug-info {
            position: fixed;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.8);
            color: #00ff00;
            padding: 10px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 12px;
            max-width: 300px;
            max-height: 400px;
            overflow-y: auto;
            z-index: 1000;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 8px;
            }
            
            .container {
                margin: 0;
                border-radius: 0;
            }
            
            .header {
                padding: 24px 16px;
            }
            
            .header h1 {
                font-size: 28px;
            }
            
            .content {
                padding: 16px;
            }
            
            .form-section {
                padding: 16px;
            }
            
            .submit-btn {
                width: 100%;
                font-size: 18px;
                padding: 16px;
            }
            
            .form-textarea {
                font-size: 16px;
            }
        }
    </style>
</head>
<body>
    <div class="debug-info" id="debug-info">
        <div>=== æµ‹è¯•è°ƒè¯•ä¿¡æ¯ ===</div>
        <div>æ—¶é—´: <span id="debug-time"></span></div>
        <div id="debug-content"></div>
    </div>

    <div class="container">
        <div class="header">
            <h1>å°å…­å£¬ç¥è¯¾</h1>
            <p>ä¼ ç»Ÿèµ·å¦å·¥å…· â€¢ å¤æ³•ç¥æœºå¦™ç®— â€¢ è¶‹å‰é¿å‡¶</p>
        </div>
        
        <div class="content">
            <div class="form-section">
                <h2 style="text-align: center; margin-bottom: 16px; color: #ffffff;">èµ·å¦</h2>
                <div class="form-group">
                    <label class="form-label" for="question-input">è¯·è¾“å…¥æ‚¨æƒ³æµ‹ç®—çš„é—®é¢˜ï¼š</label>
                    <textarea class="form-textarea" id="question-input" placeholder="è¯·è¯¦ç»†æè¿°æ‚¨æƒ³è¦å åœçš„é—®é¢˜ï¼Œè¶Šè¯¦ç»†è¶Šå‡†ç¡®..."></textarea>
                </div>
                
                <div class="form-group">
                    <button class="submit-btn" id="submit-btn" onclick="handleCalculate()">å¼€å§‹æµ‹ç®—</button>
                </div>
            </div>
            
            <!-- å…­ç¥è¯´æ˜åŒºåŸŸ -->
            <div class="gods-intro-section" id="gods-intro-section">
                <h2 class="section-title">å…­ç¥ä»‹ç»</h2>
                <p class="intro-text">ç‚¹å‡»ä¸‹æ–¹ä»»æ„ç¥ç¥‡äº†è§£å…¶å«ä¹‰å’Œè±¡å¾</p>
                <div class="grid-container" id="grid-container">
                    <div class="grid-god god-1" data-god="ç•™è¿">ç•™è¿</div>
                    <div class="grid-god god-2" data-god="é€Ÿå–œ">é€Ÿå–œ</div>
                    <div class="grid-god god-3" data-god="èµ¤å£">èµ¤å£</div>
                    <div class="grid-god god-0" data-god="å¤§å®‰">å¤§å®‰</div>
                    <div class="grid-god god-5" data-god="ç©ºäº¡">ç©ºäº¡</div>
                    <div class="grid-god god-4" data-god="å°å‰">å°å‰</div>
                </div>
            </div>
            
            <!-- æµ‹ç®—ç»“æœåŒºåŸŸ -->
            <div class="result-section" id="result-section">
                <h2>æµ‹ç®—ç»“æœ</h2>
                <div class="result-content" id="result-content">
                    <!-- ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // è°ƒè¯•ä¿¡æ¯æ˜¾ç¤º
        function addDebug(message) {
            const debugContent = document.getElementById('debug-content');
            const timestamp = new Date().toLocaleTimeString();
            debugContent.innerHTML += `<div>${timestamp}: ${message}</div>`;
            debugContent.scrollTop = debugContent.scrollHeight;
            console.log('DEBUG:', message);
        }

        // æ›´æ–°æ—¶é—´
        function updateTime() {
            document.getElementById('debug-time').textContent = new Date().toLocaleTimeString();
        }
        setInterval(updateTime, 1000);
        updateTime();

        // å˜é‡å£°æ˜
        let questionInput = document.getElementById('question-input');
        let submitBtn = document.getElementById('submit-btn');
        let resultSection = document.getElementById('result-section');
        
        // æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
        submitBtn.addEventListener('click', handleCalculate);
        
        function handleCalculate() {
            addDebug('handleCalculateè¢«è°ƒç”¨');
            console.log('handleCalculateè¢«è°ƒç”¨');
            
            const question = questionInput.value.trim();
            addDebug(`è¾“å…¥é—®é¢˜: "${question}"`);
            
            if (!question) {
                alert('è¯·è¾“å…¥æ‚¨æƒ³æµ‹ç®—çš„é—®é¢˜');
                addDebug('é”™è¯¯: é—®é¢˜ä¸ºç©º');
                return;
            }
            
            try {
                addDebug('å¼€å§‹æ¨æ¼”...');
                
                // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
                submitBtn.disabled = true;
                submitBtn.innerHTML = '<span style="margin-right: 8px;">â³</span>æ¨æ¼”ä¸­...';
                
                setTimeout(() => {
                    addDebug('æ¨æ¼”å®Œæˆï¼Œæ˜¾ç¤ºç»“æœ');
                    
                    // ç”Ÿæˆæ¨¡æ‹Ÿç»“æœ
                    const mockResult = {
                        numbers: ['6', '4', '1'],
                        gods: ['å¤§å®‰', 'å°å‰', 'é€Ÿå–œ'],
                        meaning: 'æ­¤äº‹ç›®å‰å¹³ç¨³å‰é¡ºï¼Œä½†ä»éœ€è€å¿ƒç­‰å¾…ï¼Œæ—¶æœºå°šæœªæˆç†Ÿã€‚'
                    };
                    
                    // æ˜¾ç¤ºç»“æœ
                    const resultContent = document.getElementById('result-content');
                    resultContent.innerHTML = `
                        <h3>å¦è±¡åˆ†æ</h3>
                        <p><strong>èµ·å¦æ—¶é—´ï¼š</strong>${new Date().toLocaleString()}</p>
                        <p><strong>èµ·å¦æ•°å­—ï¼š</strong>${mockResult.numbers.join(', ')}</p>
                        <p><strong>å¯¹åº”ç¥ç¥‡ï¼š</strong>${mockResult.gods.join(' â†’ ')}</p>
                        <p><strong>å¦è±¡å«ä¹‰ï¼š</strong>${mockResult.meaning}</p>
                    `;
                    
                    resultSection.classList.add('show');
                    resultSection.scrollIntoView({ behavior: 'smooth' });
                    
                    // æ¢å¤æŒ‰é’®çŠ¶æ€
                    submitBtn.disabled = false;
                    submitBtn.textContent = 'å¼€å§‹æµ‹ç®—';
                    
                    addDebug('æ‰€æœ‰æ“ä½œå®Œæˆ');
                    
                }, 2000);
                
            } catch (error) {
                addDebug('é”™è¯¯: ' + error.message);
                console.error('Error:', error);
                alert('æµ‹ç®—è¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯ï¼Œè¯·é‡è¯•');
                
                submitBtn.disabled = false;
                submitBtn.textContent = 'å¼€å§‹æµ‹ç®—';
            }
        }
        
        // è‡ªåŠ¨æµ‹è¯•è„šæœ¬
        function runAutoTest() {
            console.log('=== å°å…­å£¬ä¿®å¤éªŒè¯æµ‹è¯• ===');
            
            let testResults = [];
            
            // 1. éªŒè¯å…­ç¥æ’åˆ—é¡ºåº
            console.log('\n1. æ£€æŸ¥å…­ç¥æ’åˆ—é¡ºåº:');
            const godsContainer = document.getElementById('grid-container');
            const gods = godsContainer.querySelectorAll('.grid-god');
            const expectedOrder = ['ç•™è¿', 'é€Ÿå–œ', 'èµ¤å£', 'å¤§å®‰', 'ç©ºäº¡', 'å°å‰'];
            const actualOrder = Array.from(gods).map(god => god.getAttribute('data-god'));
            
            console.log('æœŸæœ›é¡ºåº:', expectedOrder);
            console.log('å®é™…é¡ºåº:', actualOrder);
            
            let godsCorrect = true;
            for (let i = 0; i < expectedOrder.length; i++) {
                if (expectedOrder[i] !== actualOrder[i]) {
                    console.log(`âŒ ä½ç½® ${i + 1}: æœŸæœ› "${expectedOrder[i]}", å®é™… "${actualOrder[i]}"`);
                    godsCorrect = false;
                } else {
                    console.log(`âœ… ä½ç½® ${i + 1}: "${actualOrder[i]}" - æ­£ç¡®`);
                }
            }
            testResults.push({name: 'å…­ç¥æ’åˆ—é¡ºåº', passed: godsCorrect});
            
            // 2. éªŒè¯æŒ‰é’®å±…ä¸­
            console.log('\n2. æ£€æŸ¥æŒ‰é’®å±…ä¸­:');
            const submitBtn = document.getElementById('submit-btn');
            const styles = window.getComputedStyle(submitBtn);
            const display = styles.display;
            const margin = styles.margin;
            
            console.log('æŒ‰é’®display:', display);
            console.log('æŒ‰é’®margin:', margin);
            
            const isCentered = display === 'block' && margin.includes('auto');
            console.log(isCentered ? 'âœ… æŒ‰é’®å·²å±…ä¸­' : 'âŒ æŒ‰é’®æœªå±…ä¸­');
            testResults.push({name: 'æŒ‰é’®å±…ä¸­', passed: isCentered});
            
            // 3. éªŒè¯å…ƒç´ é¡ºåº
            console.log('\n3. æ£€æŸ¥å…ƒç´ é¡ºåº:');
            const content = document.querySelector('.content');
            const children = Array.from(content.children);
            
            const godsIntroSection = document.querySelector('.gods-intro-section');
            const resultSection = document.querySelector('.result-section');
            
            const godsIndex = children.findIndex(el => el === godsIntroSection);
            const resultIndex = children.findIndex(el => el === resultSection);
            
            console.log('å…­ç¥ä»‹ç»åŒºåŸŸä½ç½®:', godsIndex);
            console.log('ç»“æœåŒºåŸŸä½ç½®:', resultIndex);
            
            const correctOrder = resultIndex > godsIndex;
            console.log(correctOrder ? 'âœ… ç»“æœåŒºåŸŸåœ¨å…­ç¥ä»‹ç»åé¢' : 'âŒ ç»“æœåŒºåŸŸä½ç½®ä¸æ­£ç¡®');
            testResults.push({name: 'å…ƒç´ é¡ºåº', passed: correctOrder});
            
            // 4. éªŒè¯æŒ‰é’®äº‹ä»¶å¤„ç†
            console.log('\n4. æ£€æŸ¥æŒ‰é’®äº‹ä»¶å¤„ç†:');
            const hasOnclick = submitBtn.hasAttribute('onclick');
            console.log('æœ‰onclickå±æ€§:', hasOnclick ? 'âœ… æ˜¯' : 'âŒ å¦');
            
            if (hasOnclick) {
                console.log('onclickå€¼:', submitBtn.getAttribute('onclick'));
            }
            
            const hasHandleCalculate = typeof window.handleCalculate === 'function';
            console.log('æœ‰handleCalculateå‡½æ•°:', hasHandleCalculate ? 'âœ… æ˜¯' : 'âŒ å¦');
            testResults.push({name: 'æŒ‰é’®äº‹ä»¶å¤„ç†', passed: hasOnclick && hasHandleCalculate});
            
            // 5. æµ‹è¯•æŒ‰é’®åŠŸèƒ½
            console.log('\n5. æµ‹è¯•æŒ‰é’®åŠŸèƒ½:');
            const questionInput = document.getElementById('question-input');
            questionInput.value = 'æµ‹è¯•é—®é¢˜';
            
            try {
                handleCalculate();
                console.log('âœ… handleCalculateè°ƒç”¨æˆåŠŸ');
                testResults.push({name: 'æŒ‰é’®åŠŸèƒ½', passed: true});
                
                // æ£€æŸ¥ç»“æœ
                setTimeout(() => {
                    const resultSection = document.getElementById('result-section');
                    const isVisible = resultSection.classList.contains('show');
                    console.log('ç»“æœåŒºåŸŸæ˜¾ç¤º:', isVisible ? 'âœ… æ˜¯' : 'âŒ å¦');
                    
                    // ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š
                    console.log('\n=== æµ‹è¯•æŠ¥å‘Š ===');
                    let passed = testResults.filter(r => r.passed).length;
                    let total = testResults.length;
                    
                    testResults.forEach(result => {
                        console.log(`${result.passed ? 'âœ…' : 'âŒ'} ${result.name}`);
                    });
                    
                    console.log(`\nğŸ“Š æµ‹è¯•ç»“æœ: ${passed}/${total} é€šè¿‡`);
                    
                    if (passed === total) {
                        console.log('ğŸ‰ æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼ä¿®å¤æˆåŠŸï¼');
                        alert('ğŸ‰ æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼ä¿®å¤æˆåŠŸï¼');
                    } else {
                        console.log('âš ï¸ éƒ¨åˆ†æµ‹è¯•å¤±è´¥');
                        alert('âš ï¸ éƒ¨åˆ†æµ‹è¯•å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ§åˆ¶å°è¯¦ç»†ä¿¡æ¯');
                    }
                }, 100);
                
            } catch (error) {
                console.log('âŒ handleCalculateè°ƒç”¨å¤±è´¥:', error.message);
                testResults.push({name: 'æŒ‰é’®åŠŸèƒ½', passed: false});
            }
        }

        // é¡µé¢åŠ è½½å®Œæˆåçš„æ£€æŸ¥å’Œè‡ªåŠ¨æµ‹è¯•
        document.addEventListener('DOMContentLoaded', function() {
            addDebug('é¡µé¢åŠ è½½å®Œæˆ');
            
            // è¿è¡Œè‡ªåŠ¨æµ‹è¯•
            setTimeout(() => {
                runAutoTest();
            }, 1000);
            
            // æ£€æŸ¥å…­ç¥æ’åˆ—
            const gridContainer = document.getElementById('grid-container');
            const gods = gridContainer.querySelectorAll('.grid-god');
            let godsOrder = [];
            gods.forEach(god => {
                godsOrder.push(god.getAttribute('data-god'));
            });
            addDebug('å…­ç¥é¡ºåº: ' + godsOrder.join(', '));
            
            // æ£€æŸ¥æŒ‰é’®å±…ä¸­
            const btnRect = submitBtn.getBoundingClientRect();
            const containerRect = document.querySelector('.container').getBoundingClientRect();
            const isCentered = Math.abs(btnRect.left - (containerRect.width - btnRect.width) / 2) < 5;
            addDebug('æŒ‰é’®å±…ä¸­: ' + (isCentered ? 'æ˜¯' : 'å¦'));
            
            // æ£€æŸ¥å…ƒç´ é¡ºåº
            const content = document.querySelector('.content');
            const children = Array.from(content.children);
            const godsIntroIndex = children.findIndex(el => el.classList.contains('gods-intro-section'));
            const resultIndex = children.findIndex(el => el.classList.contains('result-section'));
            addDebug(`å…ƒç´ é¡ºåº: å…­ç¥ä»‹ç»(${godsIntroIndex}), ç»“æœåŒºåŸŸ(${resultIndex})`);
            addDebug('ç»“æœåŒºåŸŸåœ¨å…­ç¥ä»‹ç»åé¢: ' + (resultIndex > godsIntroIndex ? 'æ˜¯' : 'å¦'));
        });
    </script>
</body>
</html>