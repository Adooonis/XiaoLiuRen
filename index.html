<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å°å…­å£¬ç¥è¯¾ - ä¼ ç»Ÿèµ·å¦å·¥å…·</title>
    
    <!-- PWA Meta Tags -->
    <meta name="description" content="ä¼ ç»Ÿå°å…­å£¬èµ·å¦å·¥å…·ï¼Œå¤æ³•ç¥æœºå¦™ç®—ï¼Œè¶‹å‰é¿å‡¶">
    <meta name="theme-color" content="#A42A28">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="å°å…­å£¬">
    <link rel="manifest" href="manifest.json">
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="apple-touch-icon" sizes="192x192" href="icon-192.png">
    <link rel="apple-touch-icon" sizes="512x512" href="icon-512.png">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
    <link rel="shortcut icon" href="icon-192.png">
    <style>
        /* å¼•å…¥Google Fonts - æ€æºå®‹ä½“å’Œä»¿å®‹ä½“ */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;500;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Serif SC', serif;
            background: #000000;
            color: #FFFFFF;
            min-height: 100vh;
            padding: 16px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: #1a1a1a;
            border-radius: 8px;
            box-shadow: 0 8px 32px rgba(255, 255, 255, 0.1);
            overflow: hidden;
            border: 1px solid #333333;
        }
        
        .header {
            background: #000000;
            color: #FFFFFF;
            text-align: center;
            padding: 32px 24px;
            border-bottom: 1px solid #333333;
        }
        
        .main-title {
            font-size: 48px;
            font-weight: 700;
            margin-bottom: 8px;
            text-shadow: 2px 2px 8px rgba(255,255,255,0.2);
            color: #FFFFFF;
        }
        
        .subtitle {
            font-size: 18px;
            opacity: 0.8;
            color: #CCCCCC;
        }
        
        .content {
            padding: 32px 24px;
            background: #1a1a1a;
        }
        
        .section {
            margin-bottom: 32px;
        }
        
        .section-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 24px;
            color: #FFFFFF;
            border-bottom: 2px solid #666666;
            padding-bottom: 8px;
        }
        
        .form-group {
            margin-bottom: 24px;
        }
        
        .form-label {
            display: block;
            font-size: 16px;
            font-weight: 500;
            margin-bottom: 8px;
            color: #FFFFFF;
        }
        
        .form-textarea {
            width: 100%;
            height: 80px;
            background: #333333;
            border: 1px solid #555555;
            border-radius: 4px;
            padding: 12px;
            font-family: 'Noto Serif SC', serif;
            font-size: 16px;
            color: #FFFFFF;
            resize: vertical;
            transition: border-color 250ms ease;
        }
        
        .form-textarea:focus {
            outline: none;
            border-color: #888888;
        }
        
        .radio-group {
            display: flex;
            gap: 16px;
            margin-bottom: 16px;
        }
        
        .radio-option {
            display: flex;
            align-items: center;
            background: transparent;
            border: 1px solid #666666;
            border-radius: 4px;
            padding: 12px 16px;
            cursor: pointer;
            transition: all 250ms ease;
            flex: 1;
            color: #CCCCCC;
        }
        
        .radio-option:hover {
            border-color: #888888;
            color: #FFFFFF;
        }
        
        .radio-option.selected {
            background: #444444;
            border-color: #888888;
            color: #FFFFFF;
        }
        
        .radio-option input[type="radio"] {
            margin-right: 8px;
        }
        
        .lunar-inputs {
            display: none;
            gap: 16px;
            margin-top: 16px;
        }
        
        .lunar-inputs.show {
            display: flex;
        }
        
        .lunar-select {
            flex: 1;
            background: #333333;
            border: 1px solid #555555;
            border-radius: 4px;
            padding: 8px 12px;
            font-family: 'Noto Serif SC', serif;
            font-size: 16px;
            color: #FFFFFF;
        }
        
        .numbers-input {
            display: none;
            gap: 16px;
            margin-top: 16px;
        }
        
        .numbers-input.show {
            display: flex;
        }
        
        .number-input {
            flex: 1;
            background: #333333;
            border: 1px solid #555555;
            border-radius: 4px;
            padding: 12px;
            font-family: 'Noto Serif SC', serif;
            font-size: 16px;
            text-align: center;
            color: #FFFFFF;
        }
        
        .number-input:focus {
            outline: none;
            border-color: #888888;
        }
        
        .submit-btn {
            background: #444444;
            color: #FFFFFF;
            border: 1px solid #666666;
            border-radius: 4px;
            padding: 12px 48px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 250ms ease;
            font-family: 'Noto Serif SC', serif;
            display: block;
            margin: 32px auto 0;
        }
        
        .submit-btn:hover {
            background: #555555;
            transform: translateY(-2px);
        }
        
        .submit-btn:disabled {
            background: #2a2a2a;
            color: #888888;
            cursor: not-allowed;
            transform: none;
        }
        
        /* æµ‹ç®—ç»“æœæ ·å¼ */
        .result-summary {
            padding: 20px;
            text-align: center;
        }
        
        .gods-display {
            text-align: center;
            margin: 20px 0;
        }
        
        .god-box {
            display: inline-block;
            padding: 8px 16px;
            background: #444;
            border: 2px solid #666;
            border-radius: 6px;
            color: #fff;
            font-weight: bold;
            margin: 0 5px;
            min-width: 60px;
            text-align: center;
        }
        
        .divination-info, .fortune-analysis, .god-detail {
            background: #2a2a2a;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #666;
        }
        
        .fortune-quote {
            color: #ddd;
            font-style: italic;
            margin-bottom: 15px;
            padding: 15px;
            background: #333;
            border-radius: 6px;
            border-left: 3px solid #888;
        }
        
        .fortune-suggestion, .god-detail p {
            color: #ccc;
            line-height: 1.6;
        }
        
        .god-detail {
            background: #2a2a2a;
            padding: 15px;
            margin: 10px 0;
            border-radius: 6px;
            border-left: 4px solid #555;
        }
        
        .god-detail h5 {
            color: #fff;
            margin-bottom: 10px;
            font-size: 16px;
        }
        
        .result-section {
            display: none;
            border-top: 1px solid #333333;
            padding-top: 32px;
            margin-top: 32px;
        }
        
        .result-section.show {
            display: block;
        }
        
        .divination-summary {
            background: #222222;
            padding: 24px;
            border-radius: 4px;
            margin-bottom: 24px;
            border-left: 4px solid #666666;
        }
        
        .summary-title {
            font-size: 20px;
            font-weight: 500;
            margin-bottom: 12px;
            color: #CCCCCC;
        }
        
        .summary-content {
            font-size: 24px;
            font-weight: 500;
            text-align: center;
            color: #FFFFFF;
        }
        
        .divine-god {
            margin: 0 8px;
        }
        
        .god-jious {
            color: #4CAF50;
        }
        
        .god-xiong {
            color: #FF5722;
        }
        
        .god-details {
            margin-top: 24px;
        }
        
        .god-card {
            background: #222222;
            border: 1px dashed #555555;
            border-radius: 4px;
            padding: 24px;
            margin-bottom: 16px;
        }
        
        .god-name {
            font-size: 20px;
            font-weight: 500;
            margin-bottom: 8px;
        }
        
        .god-quote {
            font-size: 16px;
            font-style: italic;
            color: #999999;
            margin-bottom: 12px;
        }
        
        .god-explanation {
            font-size: 16px;
            line-height: 1.7;
            color: #CCCCCC;
        }
        
        .advice-section {
            background: #F5F1E9;
            padding: 24px;
            border-radius: 4px;
            margin-top: 24px;
            border-left: 4px solid #A98B4F;
        }
        
        .advice-title {
            font-size: 20px;
            font-weight: 500;
            margin-bottom: 16px;
            color: #A98B4F;
        }
        
        .advice-content {
            font-size: 16px;
            line-height: 1.7;
            color: #2E2E2E;
        }
        
        .reset-btn {
            background: transparent;
            color: #A98B4F;
            border: 1px solid #A98B4F;
            border-radius: 4px;
            padding: 8px 16px;
            font-size: 14px;
            cursor: pointer;
            margin-top: 16px;
            transition: all 250ms ease;
            font-family: 'Noto Serif SC', serif;
        }
        
        .reset-btn:hover {
            background: #A98B4F;
            color: #F5F1E9;
        }
        
        /* AIåˆ†æåŒºåŸŸæ ·å¼ */
        .ai-analysis-section {
            background: #2a2a2a;
            padding: 24px;
            border-radius: 8px;
            margin-top: 24px;
            border: 1px solid #444444;
        }
        
        .ai-analysis-title {
            font-size: 20px;
            font-weight: 500;
            margin-bottom: 16px;
            color: #4CAF50;
            display: flex;
            align-items: center;
        }
        
        /* æ ‡ç­¾é¡µæ ·å¼ */
        .ai-tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid #444;
        }
        
        .ai-tab {
            padding: 12px 20px;
            background: transparent;
            border: none;
            color: #999;
            cursor: pointer;
            font-size: 16px;
            font-family: 'Noto Serif SC', serif;
            transition: all 250ms ease;
            border-bottom: 2px solid transparent;
            position: relative;
        }
        
        .ai-tab:hover {
            color: #ccc;
            background: rgba(76, 175, 80, 0.1);
        }
        
        .ai-tab.active {
            color: #4CAF50;
            border-bottom-color: #4CAF50;
            background: rgba(76, 175, 80, 0.05);
        }
        
        .ai-tab-content {
            display: none;
        }
        
        .ai-tab-content.active {
            display: block;
        }
        
        .ai-analysis-content {
            color: #ddd;
            line-height: 1.7;
        }
        
        .ai-analysis-result {
            background: #333;
            padding: 20px;
            border-radius: 6px;
        }
        
        .copy-section {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .copy-btn {
            background: #3E7765;
            color: #F5F1E9;
            border: none;
            border-radius: 4px;
            padding: 8px 16px;
            font-size: 14px;
            cursor: pointer;
            transition: all 250ms ease;
            font-family: 'Noto Serif SC', serif;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .copy-btn:hover {
            background: #2D5F47;
            transform: translateY(-1px);
        }
        
        .copy-btn:disabled {
            background: #6D6D6D;
            cursor: not-allowed;
            transform: none;
        }
        
        .copy-icon {
            font-size: 16px;
        }
        
        .copy-text {
            font-weight: 500;
        }
        
        .copy-feedback {
            font-size: 14px;
            color: #3E7765;
            font-weight: 500;
        }
        
        .success-text {
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        /* å…­ç¥ä»‹ç»æ ·å¼ */
        .gods-intro-section {
            margin: 32px 0;
            text-align: center;
        }
        
        .intro-text {
            color: #CCCCCC;
            font-size: 14px;
            margin: 16px 0 24px;
        }
        
        /* ä¸¤æ’ä¸‰åˆ—å¸ƒå±€æ ·å¼ */
        .grid-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(2, 1fr);
            gap: 16px;
            width: 360px;
            height: 240px;
            margin: 0 auto 32px;
            background: #1a1a1a;
            border-radius: 8px;
            border: 1px solid #333333;
            padding: 16px;
        }
        
        .grid-god {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 700;
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid;
            border-radius: 8px;
            background: rgba(0, 0, 0, 0.3);
            position: relative;
        }
        
        .grid-god:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 16px rgba(255,255,255,0.2);
        }
        
        .grid-god.active {
            animation: godPulse 0.5s ease-in-out;
            box-shadow: 0 0 20px rgba(255,255,255,0.5);
        }
        
        @keyframes godPulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
        }
        
        .god-0 { /* ç•™è¿ - ç¬¬ä¸€æ’ç¬¬ä¸€ä¸ª */
            grid-row: 1;
            grid-column: 1;
            border-color: #FF5722;
            color: #FF5722;
            background: rgba(255, 87, 34, 0.1);
        }
        
        .god-1 { /* é€Ÿå–œ - ç¬¬ä¸€æ’ç¬¬äºŒä¸ª */
            grid-row: 1;
            grid-column: 2;
            border-color: #4CAF50;
            color: #4CAF50;
            background: rgba(76, 175, 80, 0.1);
        }
        
        .god-2 { /* èµ¤å£ - ç¬¬ä¸€æ’ç¬¬ä¸‰ä¸ª */
            grid-row: 1;
            grid-column: 3;
            border-color: #FF5722;
            color: #FF5722;
            background: rgba(255, 87, 34, 0.1);
        }
        
        .god-3 { /* å¤§å®‰ - ç¬¬äºŒæ’ç¬¬ä¸€ä¸ª */
            grid-row: 2;
            grid-column: 1;
            border-color: #4CAF50;
            color: #4CAF50;
            background: rgba(76, 175, 80, 0.1);
        }
        
        .god-4 { /* ç©ºäº¡ - ç¬¬äºŒæ’ç¬¬äºŒä¸ª */
            grid-row: 2;
            grid-column: 2;
            border-color: #FF5722;
            color: #FF5722;
            background: rgba(255, 87, 34, 0.1);
        }
        
        .god-5 { /* å°å‰ - ç¬¬äºŒæ’ç¬¬ä¸‰ä¸ª */
            grid-row: 2;
            grid-column: 3;
            border-color: #4CAF50;
            color: #4CAF50;
            background: rgba(76, 175, 80, 0.1);
        }
        
        /* ç§»åŠ¨ç«¯ä¸¤æ’ä¸‰åˆ—å“åº”å¼ */
        @media (max-width: 768px) {
            .grid-container {
                width: 300px;
                height: 200px;
                gap: 12px;
                padding: 12px;
            }
            
            .grid-god {
                font-size: 12px;
                border-radius: 6px;
            }
        }
        
        @media (max-width: 768px) {
            body {
                padding: 8px;
            }
            
            .main-title {
                font-size: 36px;
            }
            
            .section-title {
                font-size: 24px;
            }
            
            .radio-group {
                flex-direction: column;
            }
            
            .lunar-inputs {
                flex-direction: column;
            }
            
            .numbers-input {
                flex-direction: column;
            }
            
            .content {
                padding: 24px 16px;
            }
            
            /* ä¼˜åŒ–ç§»åŠ¨ç«¯è§¦æ‘¸ä½“éªŒ */
            .radio-option, .lunar-select, .number-input {
                min-height: 48px;
                font-size: 16px; /* é˜²æ­¢iOSç¼©æ”¾ */
            }
            
            .submit-btn {
                width: 100%;
                font-size: 18px;
                padding: 16px;
            }
            
            .form-textarea {
                font-size: 16px; /* é˜²æ­¢iOSç¼©æ”¾ */
            }
            
            /* ç§»åŠ¨ç«¯ä¼˜åŒ–æ»šåŠ¨ */
            .result-section {
                -webkit-overflow-scrolling: touch;
            }
            
            /* ä¼˜åŒ–æ–‡å­—å¤§å°é˜²æ­¢ç¼©æ”¾ */
            .god-name {
                font-size: 18px;
            }
            
            .god-explanation {
                font-size: 15px;
            }
            
            .summary-content {
                font-size: 20px;
            }
            
            /* ç§»åŠ¨ç«¯å®‰è£…æŒ‰é’®ä¼˜åŒ– */
            .install-button-mobile {
                bottom: 16px !important;
                font-size: 13px !important;
                padding: 10px 20px !important;
            }
            
            /* ç§»åŠ¨ç«¯å¤åˆ¶æŒ‰é’®ä¼˜åŒ– */
            .copy-btn {
                min-height: 44px;
                font-size: 15px;
                padding: 10px 16px;
            }
            
            .copy-section {
                flex-direction: column;
                align-items: stretch;
                gap: 8px;
            }
            
            .copy-feedback {
                text-align: center;
            }
        }
        
        /* ç§»åŠ¨ç«¯æ¨ªå±ä¼˜åŒ– */
        @media (max-width: 768px) and (orientation: landscape) {
            .header {
                padding: 20px 24px;
            }
            
            .main-title {
                font-size: 28px;
                margin-bottom: 4px;
            }
            
            .content {
                padding: 16px;
            }
        }
        
        /* iOS Safariç‰¹å®šä¼˜åŒ– */
        @supports (-webkit-touch-callout: none) {
            body {
                -webkit-user-select: none;
                user-select: none;
            }
            
            .form-textarea, .number-input, input, select, textarea {
                -webkit-user-select: text;
                user-select: text;
            }
        }
        
        /* åŠ è½½åŠ¨ç”» */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid #A98B4F;
            border-radius: 50%;
            border-top-color: transparent;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* é«˜å¯¹æ¯”åº¦æ¨¡å¼æ”¯æŒ */
        @media (prefers-contrast: high) {
            .container {
                border: 2px solid #2E2E2E;
            }
            
            .god-jious {
                color: #2D5F47 !important;
                font-weight: bold;
            }
            
            .god-xiong {
                color: #654321 !important;
                font-weight: bold;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="main-title">å°å…­å£¬ç¥è¯¾</h1>
            <p class="subtitle">å¤æ³•èµ·å¦ Â· ç¥æœºå¦™ç®— Â· è¶‹å‰é¿å‡¶</p>
        </div>
        
        <div class="content">
            <div class="section">
                <h2 class="section-title">è¾“å…¥æµ‹ç®—ä¿¡æ¯</h2>
                
                <div class="form-group">
                    <label class="form-label">è¯·è¾“å…¥æ‚¨æƒ³æµ‹ç®—çš„é—®é¢˜ï¼š</label>
                    <textarea class="form-textarea" id="question" placeholder="è¯·åœ¨æ­¤è¾“å…¥æ‚¨æƒ³æµ‹ç®—çš„é—®é¢˜ï¼Œå¦‚'ä»Šæ—¥å‡ºè¡Œæ˜¯å¦é¡ºåˆ©ï¼Ÿ'ã€'æœ¬æœˆå·¥ä½œè¿åŠ¿å¦‚ä½•ï¼Ÿ'ç­‰"></textarea>
                </div>
                
                <div class="form-group">
                    <label class="form-label">é€‰æ‹©èµ·å¦æ–¹å¼ï¼š</label>
                    <div class="radio-group">
                        <div class="radio-option selected" data-value="numbers">
                            éšæœºä¸‰æ•°
                        </div>
                        <div class="radio-option" data-value="lunar">
                            é˜´å†æ—¶è¾°
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <div class="numbers-input show" id="numbers-input">
                        <input type="number" class="number-input" id="num1" placeholder="ç¬¬ä¸€ä¸ªæ•°å­—" min="1" max="12">
                        <input type="number" class="number-input" id="num2" placeholder="ç¬¬äºŒä¸ªæ•°å­—" min="1" max="31">
                        <input type="number" class="number-input" id="num3" placeholder="ç¬¬ä¸‰ä¸ªæ•°å­—" min="1" max="12">
                    </div>
                    
                    <div class="lunar-inputs" id="lunar-input">
                        <select class="lunar-select" id="lunar-month">
                            <option value="">é€‰æ‹©é˜´å†æœˆä»½</option>
                            <option value="1">æ­£æœˆ</option>
                            <option value="2">äºŒæœˆ</option>
                            <option value="3">ä¸‰æœˆ</option>
                            <option value="4">å››æœˆ</option>
                            <option value="5">äº”æœˆ</option>
                            <option value="6">å…­æœˆ</option>
                            <option value="7">ä¸ƒæœˆ</option>
                            <option value="8">å…«æœˆ</option>
                            <option value="9">ä¹æœˆ</option>
                            <option value="10">åæœˆ</option>
                            <option value="11">å†¬æœˆ</option>
                            <option value="12">è…Šæœˆ</option>
                        </select>
                        <select class="lunar-select" id="lunar-day">
                            <option value="">é€‰æ‹©æ—¥æœŸ</option>
                            <option value="1">åˆä¸€</option>
                            <option value="2">åˆäºŒ</option>
                            <option value="3">åˆä¸‰</option>
                            <option value="4">åˆå››</option>
                            <option value="5">åˆäº”</option>
                            <option value="6">åˆå…­</option>
                            <option value="7">åˆä¸ƒ</option>
                            <option value="8">åˆå…«</option>
                            <option value="9">åˆä¹</option>
                            <option value="10">åˆå</option>
                            <option value="11">åä¸€</option>
                            <option value="12">åäºŒ</option>
                            <option value="13">åä¸‰</option>
                            <option value="14">åå››</option>
                            <option value="15">åäº”</option>
                            <option value="16">åå…­</option>
                            <option value="17">åä¸ƒ</option>
                            <option value="18">åå…«</option>
                            <option value="19">åä¹</option>
                            <option value="20">äºŒå</option>
                            <option value="21">å»¿ä¸€</option>
                            <option value="22">å»¿äºŒ</option>
                            <option value="23">å»¿ä¸‰</option>
                            <option value="24">å»¿å››</option>
                            <option value="25">å»¿äº”</option>
                            <option value="26">å»¿å…­</option>
                            <option value="27">å»¿ä¸ƒ</option>
                            <option value="28">å»¿å…«</option>
                            <option value="29">å»¿ä¹</option>
                            <option value="30">ä¸‰å</option>
                        </select>
                        <select class="lunar-select" id="lunar-hour">
                            <option value="">é€‰æ‹©æ—¶è¾°</option>
                            <option value="1">å­æ—¶ (23:00-1:00)</option>
                            <option value="2">ä¸‘æ—¶ (1:00-3:00)</option>
                            <option value="3">å¯…æ—¶ (3:00-5:00)</option>
                            <option value="4">å¯æ—¶ (5:00-7:00)</option>
                            <option value="5">è¾°æ—¶ (7:00-9:00)</option>
                            <option value="6">å·³æ—¶ (9:00-11:00)</option>
                            <option value="7">åˆæ—¶ (11:00-13:00)</option>
                            <option value="8">æœªæ—¶ (13:00-15:00)</option>
                            <option value="9">ç”³æ—¶ (15:00-17:00)</option>
                            <option value="10">é…‰æ—¶ (17:00-19:00)</option>
                            <option value="11">æˆŒæ—¶ (19:00-21:00)</option>
                            <option value="12">äº¥æ—¶ (21:00-23:00)</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <button class="submit-btn" id="submit-btn">å¼€å§‹æµ‹ç®—</button>
                </div>
            </div>
            
            <!-- å…­ç¥è¯´æ˜åŒºåŸŸ -->
            <div class="gods-intro-section" id="gods-intro-section">
                <h2 class="section-title">å…­ç¥ä»‹ç»</h2>
                <p class="intro-text">ç‚¹å‡»ä¸‹æ–¹ä»»æ„ç¥ç¥‡äº†è§£å…¶å«ä¹‰å’Œè±¡å¾</p>
                <div class="grid-container" id="grid-container">
                    <!-- ç¬¬ä¸€æ’ï¼šç•™è¿ã€é€Ÿå–œã€èµ¤å£ -->
                    <div class="grid-god god-0" data-god="ç•™è¿">ç•™è¿</div>
                    <div class="grid-god god-1" data-god="é€Ÿå–œ">é€Ÿå–œ</div>
                    <div class="grid-god god-2" data-god="èµ¤å£">èµ¤å£</div>
                    <!-- ç¬¬äºŒæ’ï¼šå¤§å®‰ã€ç©ºäº¡ã€å°å‰ -->
                    <div class="grid-god god-3" data-god="å¤§å®‰">å¤§å®‰</div>
                    <div class="grid-god god-4" data-god="ç©ºäº¡">ç©ºäº¡</div>
                    <div class="grid-god god-5" data-god="å°å‰">å°å‰</div>
                </div>
            </div>
            
            <!-- æµ‹ç®—ç»“æœ -->
            <div class="result-section" id="result-section" style="display: none;">
                <h2 class="section-title">æ¨æ¼”ç»“æœ</h2>
                
                <!-- æœ€ç»ˆç»“æœå±•ç¤º -->
                <div class="result-display" id="result-display" style="display: none;">
                    <div class="summary-title">å¦è±¡æ€»è§ˆ</div>
                    <div class="final-gods" id="final-gods">
                        <!-- æœ€ç»ˆç»“æœå°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                    <div class="final-result" id="final-result"></div>
                </div>
                
                <div class="god-details" id="god-details" style="display: none;">
                    <!-- å…­ç¥è¯¦è§£å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
                
                <div class="advice-section" id="advice-section" style="display: none;">
                    <div class="advice-title">ç”ŸæˆAIæŒ‡ä»¤</div>
                    <div class="advice-content" id="advice-content">
                        <!-- å»ºè®®å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                    <div class="copy-section" style="margin-top: 16px;">
                        <button class="copy-btn" id="copy-btn">
                            <span class="copy-icon">ğŸ“‹</span>
                            <span class="copy-text">å¤åˆ¶æŒ‡ä»¤</span>
                        </button>
                        <div class="copy-feedback" id="copy-feedback" style="display: none;">
                            <span class="success-text">âœ“ å·²å¤åˆ¶åˆ°å‰ªè´´æ¿</span>
                        </div>
                    </div>
                </div>
                
                <!-- AIæ·±åº¦åˆ†æåŒºåŸŸ -->
                <div class="ai-analysis-section" id="ai-analysis-section" style="display: none;">
                    <div class="ai-analysis-title">ğŸ¤– AIæ·±åº¦åˆ†æ</div>
                    
                    <!-- AIæ ‡ç­¾é¡µå¯¼èˆª -->
                    <div class="ai-tabs">
                        <button class="ai-tab active" id="qwen-tab" data-target="qwen-content">é€šä¹‰åƒé—®åˆ†æ</button>
                        <button class="ai-tab" id="deepseek-tab" data-target="deepseek-content">DeepSeekåˆ†æ</button>
                        <button class="ai-tab" id="compare-tab" data-target="compare-content">å¯¹æ¯”åˆ†æ</button>
                    </div>
                    
                    <!-- é€šä¹‰åƒé—®åˆ†æå†…å®¹ -->
                    <div class="ai-tab-content active" id="qwen-content">
                        <div class="ai-analysis-content" id="qwen-analysis-content">
                            <!-- é€šä¹‰åƒé—®AIåˆ†æç»“æœå°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                        </div>
                    </div>
                    
                    <!-- DeepSeekåˆ†æå†…å®¹ -->
                    <div class="ai-tab-content" id="deepseek-content">
                        <div class="ai-analysis-content" id="deepseek-analysis-content">
                            <!-- DeepSeek AIåˆ†æç»“æœå°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                        </div>
                    </div>
                    
                    <!-- å¯¹æ¯”åˆ†æå†…å®¹ -->
                    <div class="ai-tab-content" id="compare-content">
                        <div class="ai-analysis-content" id="compare-analysis-content">
                            <!-- å¯¹æ¯”åˆ†æç»“æœå°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                        </div>
                    </div>
                </div>
                
                <button class="reset-btn" id="reset-btn">é‡æ–°æµ‹ç®—</button>
            </div>

        </div>
    </div>

    <script>
        // å…­ç¥æ•°æ®å®šä¹‰
        const godsData = {
            'å¤§å®‰': {
                isJious: true,
                quote: 'å¤§å®‰äº‹äº‹æ˜Œï¼Œæ±‚è´¢åœ¨å¤æ–¹ï¼Œå¤±ç‰©å»ä¸è¿œï¼Œå®…èˆä¿å®‰åº·',
                explanation: 'å¤§å®‰ä¸ºé’é¾™æœ¨ï¼Œå±æ˜¥å¤©ï¼Œä½åœ¨ä¸œæ–¹ã€‚å¤§å®‰ä¸»é™ã€ä¸åŠ¨ã€å‰åˆ©ï¼Œé¢„ç¤ºäº‹æƒ…å‘å±•å¹³é¡ºå®‰ç¨³ã€‚å¦è±¡æ˜¾ç¤ºæ‰€é—®ä¹‹äº‹æ ¹åŸºç¨³å›ºï¼Œè™½ç„¶è¿›å±•å¯èƒ½ç¼“æ…¢ï¼Œä½†æœ€ç»ˆä¼šæœ‰å¥½çš„ç»“æœã€‚è¡Œäººèº«æœªåŠ¨ï¼Œç—…è€…ä¸»æ— å¦¨ã€‚æ±‚è°‹å®œå®ˆæ­£ï¼Œä¸å®œæ€¥è¿›ã€‚',
                characteristics: 'é™ã€å®‰ç¨³ã€å‰åˆ©ã€æ ¹åŸºç¨³å›ºã€è¿›å±•ç¼“æ…¢ä½†æœ€ç»ˆé¡ºåˆ©'
            },
            'ç•™è¿': {
                isJious: false,
                quote: 'ç•™è¿äº‹éš¾æˆï¼Œæ±‚è°‹æ—¥æœªæ˜ï¼Œå®˜äº‹åªå®œç¼“ï¼Œå»è€…æœªå›ç¨‹',
                explanation: 'ç•™è¿ä¸ºå››æ–¹åœŸï¼Œå±å››å­£ï¼Œä½åœ¨å››è§’ã€‚ç•™è¿ä¸»æ…¢ã€åå¤ã€æ‹–å»¶ï¼Œä»£è¡¨äº‹æƒ…è¿›å±•ç¼“æ…¢ï¼Œéœ€è¦è€å¿ƒç­‰å¾…ã€‚æ­¤å¦æç¤ºå½“å‰æ—¶æœºæœªåˆ°ï¼Œä¸å®œæ€¥èºè¡Œäº‹ï¼Œåº”å½“ä»å®¹åº”å¯¹ï¼Œé¡ºåŠ¿è€Œä¸ºã€‚è™½ç„¶è¿‡ç¨‹æ›²æŠ˜ï¼Œä½†ç»“æœæœªå¿…ä¸ä½³ã€‚',
                characteristics: 'ç¼“æ…¢ã€åå¤ã€æ‹–å»¶ã€éœ€è¦è€å¿ƒã€ä¸å®œæ€¥è¿›'
            },
            'é€Ÿå–œ': {
                isJious: true,
                quote: 'é€Ÿå–œå–œæ¥ä¸´ï¼Œæ±‚è´¢å‘å—è¡Œï¼Œå¤±ç‰©ç”³åˆæœªï¼Œé€¢äººè·¯ä¸Šå¯»',
                explanation: 'é€Ÿå–œä¸ºæœ±é›€ç«ï¼Œå±å¤å­£ï¼Œä½åœ¨å—æ–¹ã€‚é€Ÿå–œä¸»åŠ¨ã€å¿«é€Ÿã€å‰åˆ©ï¼Œè±¡å¾äº‹æƒ…ä¼šè¿…é€Ÿæœ‰è¿›å±•ï¼Œå¥½æ¶ˆæ¯å³å°†åˆ°æ¥ã€‚æ­¤å¦æä¸ºå‰åˆ©ï¼Œé¢„ç¤ºæ‰€é—®ä¹‹äº‹å°†å¿«é€Ÿå¾—åˆ°è§£å†³ï¼Œç»“æœä»¤äººæ»¡æ„ã€‚å®œæŠŠæ¡æ—¶æœºï¼Œç§¯æè¡ŒåŠ¨ã€‚',
                characteristics: 'å¿«é€Ÿã€å‰åˆ©ã€è¿›å±•è¿…é€Ÿã€å¥½æ¶ˆæ¯å³å°†åˆ°æ¥ã€å®œæŠŠæ¡æ—¶æœº'
            },
            'èµ¤å£': {
                isJious: false,
                quote: 'èµ¤å£ä¸»å£èˆŒï¼Œæ±‚è´¢åœ¨è¥¿å—ï¼Œå¤±ç‰©ç”³é…‰æˆŒï¼Œé€¢äººè·¯ä¸Šéš¾',
                explanation: 'èµ¤å£ä¸ºç™½è™é‡‘ï¼Œå±ç§‹å­£ï¼Œä½åœ¨è¥¿æ–¹ã€‚èµ¤å£ä¸»åµã€æ„è§ä¸å’Œï¼Œä»£è¡¨å®¹æ˜“æœ‰å£èˆŒä¹‹äº‰ï¼Œéœ€è¦è°¨æ…è¨€è¡Œã€‚æ­¤å¦æé†’åœ¨å¤„ç†ç›¸å…³äº‹åŠ¡æ—¶è¦æ ¼å¤–å°å¿ƒï¼Œé¿å…å†²çªï¼Œæ³¨æ„æ²Ÿé€šæ–¹å¼ã€‚è™½ç„¶è¿‡ç¨‹å¯èƒ½ä¸å¤ªé¡ºåˆ©ï¼Œä½†è‹¥èƒ½è°¨æ…åº”å¯¹ï¼Œå±æœºäº¦æ˜¯è½¬æœºã€‚',
                characteristics: 'å£èˆŒã€æ„è§ä¸åˆã€éœ€è¦è°¨æ…ã€é¿å…å†²çªã€åŒ–å±ä¸ºæœº'
            },
            'å°å‰': {
                isJious: true,
                quote: 'å°å‰æš—ä¸­æ±‚ï¼Œæ±‚è´¢å‘åŒ—æ–¹ï¼Œå¤±ç‰©äº¥å­ä¸‘ï¼Œé€¢äººè·¯ä¸Šè°‹',
                explanation: 'å°å‰ä¸ºç„æ­¦æ°´ï¼Œå±å†¬å­£ï¼Œä½åœ¨åŒ—æ–¹ã€‚å°å‰ä¸»åŠ¨ã€ç¼“æ…¢ã€å‰åˆ©ï¼Œé¢„ç¤ºäº‹æƒ…è™½æœ‰å°é˜»ï¼Œä½†æ•´ä½“å‘å¥½å‘å±•ã€‚æ­¤å¦è±¡å¾è™½æœ‰å°çš„å›°éš¾éœ€è¦å…‹æœï¼Œä½†æœ€ç»ˆä¼šæœ‰å°è€Œç¨³å®šçš„å¥½ç»“æœã€‚å®œç¨³æ­¥æ¨è¿›ï¼Œä¸å®œè´ªå¿«ã€‚',
                characteristics: 'ç¼“æ…¢ã€å‰åˆ©ã€å°æœ‰å›°éš¾ã€ç¨³æ­¥æ¨è¿›ã€ç¨³å®šå‘å±•'
            },
            'ç©ºäº¡': {
                isJious: false,
                quote: 'ç©ºäº¡äº‹ä¸ç¥¥ï¼Œæ±‚è´¢æ— ä¸»å¼ ï¼Œè¿›èº«ä¸å¯å–œï¼Œé€€æ­¥ä¿å®‰åº·',
                explanation: 'ç©ºäº¡ä¸ºå‹¾é™ˆåœŸï¼Œä¸åœ¨å››å­£ï¼Œä½åœ¨ä¸­å¤®ã€‚ç©ºäº¡ä¸»æ— ã€é‡å¥½åˆ™å¥½é‡ååˆ™åï¼Œä»£è¡¨å½“å‰æƒ…å†µå˜åŒ–æœªå®šï¼Œç»“æœæ¨¡ç³Šã€‚æ­¤å¦æç¤ºæ‰€é—®ä¹‹äº‹ç›®å‰ç¼ºä¹æ˜ç¡®çš„å¾å…†ï¼Œéœ€è¦æ›´å¤šçš„è§‚å¯Ÿå’Œç­‰å¾…ã€‚å¤©æ—¶ã€åœ°åˆ©ã€äººå’Œæœªå®Œå…¨å…·å¤‡ï¼Œå®œéŸ¬å…‰å…»æ™¦ï¼Œä»¥å¾…æ—¶æœºã€‚',
                characteristics: 'å˜åŒ–æœªå®šã€ç¼ºä¹æ˜ç¡®å¾å…†ã€éœ€è¦è§‚å¯Ÿç­‰å¾…ã€æ—¶æœºæœªåˆ°'
            }
        };
        
        // å…­ç¥é¡ºåºï¼ˆå¤§å®‰â†’ç•™è¿â†’é€Ÿå–œâ†’èµ¤å£â†’å°å‰â†’ç©ºäº¡ï¼‰
        const godsOrder = ['å¤§å®‰', 'ç•™è¿', 'é€Ÿå–œ', 'èµ¤å£', 'å°å‰', 'ç©ºäº¡'];
        
        // éªŒè¯ç®—æ³•åŠŸèƒ½
        // DOMå…ƒç´ è·å–
        const questionInput = document.getElementById('question');
        const radioOptions = document.querySelectorAll('.radio-option');
        const numbersInput = document.getElementById('numbers-input');
        const lunarInput = document.getElementById('lunar-input');
        const lunarDaySelect = document.getElementById('lunar-day');
        const submitBtn = document.getElementById('submit-btn');
        const resultSection = document.getElementById('result-section');
        const godDetails = document.getElementById('god-details');
        const adviceContent = document.getElementById('advice-content');
        const resetBtn = document.getElementById('reset-btn');
        const copyBtn = document.getElementById('copy-btn');
        
        // å…­ç¥ç‚¹å‡»äº‹ä»¶å¤„ç†
        const gridGods = document.querySelectorAll('.grid-god');
        gridGods.forEach(godElement => {
            godElement.addEventListener('click', () => {
                const godName = godElement.getAttribute('data-god');
                showGodInfo(godName);
            });
        });
        
        // æ˜¾ç¤ºç”¨ç¥ä¿¡æ¯
        function showGodInfo(godName) {
            const godData = godsData[godName];
            if (!godData) return;
            
            // åˆ›å»ºæ¨¡æ€çª—å£æ˜¾ç¤ºç”¨ç¥ä¿¡æ¯
            const modal = document.createElement('div');
            modal.className = 'god-modal';
            modal.innerHTML = `
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title">${godName}</h3>
                        <button class="modal-close">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div class="god-quote">"${godData.quote}"</div>
                        <div class="god-explanation">${godData.explanation}</div>
                        <div class="god-characteristics">
                            <strong>ç‰¹å¾ï¼š</strong>${godData.characteristics}
                        </div>
                    </div>
                </div>
            `;
            
            // æ·»åŠ æ¨¡æ€çª—å£æ ·å¼
            const style = document.createElement('style');
            style.textContent = `
                .god-modal {
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0, 0, 0, 0.8);
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    z-index: 10000;
                    animation: fadeIn 0.3s ease;
                }
                
                .modal-content {
                    background: #1a1a1a;
                    border: 2px solid #444;
                    border-radius: 12px;
                    max-width: 500px;
                    max-height: 80vh;
                    overflow-y: auto;
                    animation: slideIn 0.3s ease;
                }
                
                .modal-header {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    padding: 20px;
                    border-bottom: 1px solid #333;
                }
                
                .modal-title {
                    color: #fff;
                    margin: 0;
                    font-size: 24px;
                    font-weight: bold;
                }
                
                .modal-close {
                    background: none;
                    border: none;
                    color: #999;
                    font-size: 28px;
                    cursor: pointer;
                    padding: 0;
                    width: 30px;
                    height: 30px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                }
                
                .modal-close:hover {
                    color: #fff;
                }
                
                .modal-body {
                    padding: 20px;
                    color: #ccc;
                }
                
                .god-quote {
                    font-style: italic;
                    font-size: 16px;
                    color: #ffeb3b;
                    margin-bottom: 16px;
                    padding: 12px;
                    background: rgba(255, 235, 59, 0.1);
                    border-radius: 8px;
                    border-left: 4px solid #ffeb3b;
                }
                
                .god-explanation {
                    line-height: 1.6;
                    margin-bottom: 16px;
                }
                
                .god-characteristics {
                    color: #999;
                    font-size: 14px;
                }
                
                .god-characteristics strong {
                    color: #ccc;
                }
                
                @keyframes fadeIn {
                    from { opacity: 0; }
                    to { opacity: 1; }
                }
                
                @keyframes slideIn {
                    from { 
                        opacity: 0;
                        transform: translateY(-50px) scale(0.9);
                    }
                    to { 
                        opacity: 1;
                        transform: translateY(0) scale(1);
                    }
                }
            `;
            
            document.head.appendChild(style);
            document.body.appendChild(modal);
            
            // å…³é—­æ¨¡æ€çª—å£äº‹ä»¶
            const closeBtn = modal.querySelector('.modal-close');
            closeBtn.addEventListener('click', () => {
                document.body.removeChild(modal);
                document.head.removeChild(style);
            });
            
            // ç‚¹å‡»èƒŒæ™¯å…³é—­
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    document.body.removeChild(modal);
                    document.head.removeChild(style);
                }
            });
        }

        // åˆå§‹åŒ–æ—¥æœŸé€‰æ‹©
        function initDaySelect() {
            lunarDaySelect.innerHTML = '<option value="">é€‰æ‹©æ—¥æœŸ</option>';
            for (let i = 1; i <= 30; i++) {
                const option = document.createElement('option');
                option.value = i;
                option.textContent = i + 'æ—¥';
                lunarDaySelect.appendChild(option);
            }
        }
        
        // åˆ‡æ¢èµ·å¦æ–¹å¼
        function switchDivinationType(type) {
            radioOptions.forEach(option => {
                option.classList.remove('selected');
                if (option.dataset.value === type) {
                    option.classList.add('selected');
                }
            });
            
            if (type === 'numbers') {
                numbersInput.classList.add('show');
                lunarInput.classList.remove('show');
            } else {
                numbersInput.classList.remove('show');
                lunarInput.classList.add('show');
            }
        }
        
        // è·å–ä¸‰ä¸ªæ•°å­—
        function getThreeNumbers() {
            const type = document.querySelector('.radio-option.selected').dataset.value;
            
            if (type === 'numbers') {
                const num1 = parseInt(document.getElementById('num1').value) || Math.floor(Math.random() * 6) + 1;
                const num2 = parseInt(document.getElementById('num2').value) || Math.floor(Math.random() * 6) + 1;
                const num3 = parseInt(document.getElementById('num3').value) || Math.floor(Math.random() * 6) + 1;
                
                if (!num1 || !num2 || !num3) {
                    throw new Error('è¯·è¾“å…¥ä¸‰ä¸ªå®Œæ•´çš„æ•°å­—');
                }
                
                return [num1, num2, num3];
            } else {
                const month = parseInt(document.getElementById('lunar-month').value);
                const day = parseInt(document.getElementById('lunar-day').value);
                const hour = parseInt(document.getElementById('lunar-hour').value);
                
                if (!month || !day || !hour) {
                    throw new Error('è¯·é€‰æ‹©å®Œæ•´çš„é˜´å†æœˆã€æ—¥ã€æ—¶è¾°');
                }
                
                return [month, day, hour];
            }
        }
        
        // å°å…­å£¬ç®—æ³•ï¼šè·å–ç¬¬å…­ä¸ªä½ç½®ä¸Šçš„ç¥
        function getGodAtPosition(startGod, count) {
            const startIndex = godsOrder.indexOf(startGod);
            const targetIndex = (startIndex + count - 1) % 6;
            return godsOrder[targetIndex];
        }
        
        // è®¡ç®—å¦è±¡
        function calculateDivination(numbers) {
            const [num1, num2, num3] = numbers;
            
            // ç¬¬ä¸€ä¸ªç¥ï¼šä»å¤§å®‰å¼€å§‹æ•°åˆ°ç¬¬ä¸€ä¸ªæ•°å­—
            const firstGod = getGodAtPosition('å¤§å®‰', num1);
            
            // ç¬¬äºŒä¸ªç¥ï¼šä»ç¬¬ä¸€ä¸ªç¥å¼€å§‹æ•°åˆ°ç¬¬äºŒä¸ªæ•°å­—
            const secondGod = getGodAtPosition(firstGod, num2);
            
            // ç¬¬ä¸‰ä¸ªç¥ï¼šä»ç¬¬äºŒä¸ªç¥å¼€å§‹æ•°åˆ°ç¬¬ä¸‰ä¸ªæ•°å­—
            const thirdGod = getGodAtPosition(secondGod, num3);
            
            return [firstGod, secondGod, thirdGod];
        }
        
        // æ˜¾ç¤ºæœ€ç»ˆç»“æœ
        function showFinalResults(gods, question, numbers) {
            // æ˜¾ç¤ºç»“æœåŒºåŸŸ
            document.getElementById('result-display').style.display = 'block';
            resultSection.style.display = 'block';
            resultSection.classList.add('show');
            
            // ç”Ÿæˆå¦è±¡æ€»è§ˆ
            const finalGodsHTML = gods.map(god => {
                const isJious = godsData[god].isJious;
                const className = isJious ? 'god-jious' : 'god-xiong';
                return `<span class="god-box ${className}">${god}</span>`;
            }).join(' <span style="color: #666; margin: 0 10px;">â†’</span> ');
            

            
            document.getElementById('final-gods').innerHTML = `
                <div class="result-summary">
                    <h3 style="color: #fff; margin-bottom: 20px;">ğŸ¯ å¦è±¡æ€»è§ˆ</h3>
                    <div class="gods-display" style="font-size: 20px; margin: 20px 0;">
                        ${finalGodsHTML}
                    </div>
                    <div class="divination-info" style="background: #2a2a2a; padding: 20px; border-radius: 8px; margin: 20px 0;">
                        <p><strong style="color: #ccc;">ğŸ“… æµ‹ç®—æ—¶é—´ï¼š</strong><span style="color: #fff;">${new Date().toLocaleString('zh-CN')}</span></p>
                        <p><strong style="color: #ccc;">ğŸ”¢ èµ·å¦æ•°å­—ï¼š</strong><span style="color: #fff;">${numbers.join(', ')}</span></p>
                        <p><strong style="color: #ccc;">â“ æµ‹ç®—é—®é¢˜ï¼š</strong><span style="color: #fff;">${question}</span></p>
                    </div>
                </div>
            `;
            
            // æ˜¾ç¤ºç¥ç¥‡è¯¦æƒ…
            setTimeout(() => {
                showGodDetails(gods);
                showAdviceSection(gods, question, numbers);
                
                // è‡ªåŠ¨è°ƒç”¨AIæ·±åº¦åˆ†æ
                analyzeWithQwen(gods, question, numbers);
            }, 500);
        }
        
        // æ˜¾ç¤ºç¥ç¥‡è¯¦æƒ…
        function showGodDetails(gods) {
            const godDetails = document.getElementById('god-details');
            const detailsHTML = gods.map((god, index) => {
                const data = godsData[god];
                const className = data.isJious ? 'god-jious' : 'god-xiong';
                
                return `
                    <div class="god-card">
                        <div class="god-name ${className}">ç¬¬${index + 1}å¦ï¼š${god}</div>
                        <div class="god-quote">"${data.quote}"</div>
                        <div class="god-explanation">${data.explanation}</div>
                    </div>
                `;
            }).join('');
            godDetails.innerHTML = detailsHTML;
            godDetails.style.display = 'block';
        }
        
        // æ˜¾ç¤ºå»ºè®®éƒ¨åˆ†
        function showAdviceSection(gods, question, numbers) {
            const adviceSection = document.getElementById('advice-section');
            const adviceContent = document.getElementById('advice-content');
            
            const adviceHTML = generateAdvice(gods, question, numbers);
            adviceContent.innerHTML = adviceHTML;
            adviceSection.style.display = 'block';
        }
        
        // ç”Ÿæˆå»ºè®®
        function generateAdvice(gods, question, numbers) {
            // è·å–è¾“å…¥æ–¹å¼ä¿¡æ¯
            const type = document.querySelector('.radio-option.selected').dataset.value;
            let methodInfo = '';
            
            if (type === 'numbers') {
                methodInfo = `éšæœºæ•°ï¼š${numbers[0]}ã€${numbers[1]}ã€${numbers[2]}`;
            } else {
                const hourNames = ['', 'å­æ—¶', 'ä¸‘æ—¶', 'å¯…æ—¶', 'å¯æ—¶', 'è¾°æ—¶', 'å·³æ—¶', 'åˆæ—¶', 'æœªæ—¶', 'ç”³æ—¶', 'é…‰æ—¶', 'æˆŒæ—¶', 'äº¥æ—¶'];
                methodInfo = `æ—¥æœŸï¼šé˜´å†${numbers[0]}æœˆ${numbers[1]}æ—¥${hourNames[numbers[2]]}`;
            }
            
            // ç”Ÿæˆä¸“ä¸šAIæŒ‡ä»¤æ ¼å¼ï¼ˆä¸é€šä¹‰åƒé—®åˆ†æä½¿ç”¨ç›¸åŒæ ¼å¼ï¼‰
            const aiInstruction = `ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å°å…­å£¬å¦è±¡åˆ†æå¸ˆã€‚ç”¨æˆ·é€šè¿‡å°å…­å£¬èµ·å¦ï¼Œå¾—åˆ°çš„å¦è±¡æ˜¯ï¼š${gods.join(' â†’ ')}ã€‚

æµ‹ç®—é—®é¢˜ï¼š${question}
èµ·å¦æ•°å­—ï¼š${numbers.join('ã€')}
å½“å‰æ—¶é—´ï¼š${new Date().toLocaleString('zh-CN')}

è¯·ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢è¿›è¡Œè¯¦ç»†åˆ†æï¼š
1. å¦è±¡å«ä¹‰ï¼šè§£é‡Šæ¯ä¸ªç¥å…†çš„å‰å‡¶å¯“æ„
2. æ•´ä½“è¿åŠ¿ï¼šåˆ†æå½“å‰äº‹æƒ…çš„æ•´ä½“å‘å±•è¶‹åŠ¿
3. æ—¶æœºåˆ†æï¼šåˆ¤æ–­åšäº‹çš„æœ‰åˆ©æ—¶æœº
4. æ³¨æ„äº‹é¡¹ï¼šæŒ‡å‡ºéœ€è¦é˜²èŒƒçš„é—®é¢˜
5. å…·ä½“å»ºè®®ï¼šç»™å‡ºåˆ‡å®å¯è¡Œçš„è¡ŒåŠ¨å»ºè®®

è¯·ç”¨æ¸©æš–ã€ä¸“ä¸šã€æ˜“æ‡‚çš„è¯­è¨€è¿›è¡Œåˆ†æï¼Œå­—æ•°æ§åˆ¶åœ¨800-1200å­—å·¦å³ã€‚`;
            
            return aiInstruction;
        }
        
        // å¤åˆ¶åŠŸèƒ½
        async function copyToClipboard(text) {
            try {
                if (navigator.clipboard && window.isSecureContext) {
                    // ä½¿ç”¨ç°ä»£ Clipboard API
                    await navigator.clipboard.writeText(text);
                    return true;
                } else {
                    // å¤‡ç”¨æ–¹æ³•ï¼šä½¿ç”¨ä¼ ç»Ÿçš„ execCommand
                    const textArea = document.createElement('textarea');
                    textArea.value = text;
                    textArea.style.position = 'fixed';
                    textArea.style.opacity = '0';
                    textArea.style.pointerEvents = 'none';
                    document.body.appendChild(textArea);
                    textArea.focus();
                    textArea.select();
                    
                    const successful = document.execCommand('copy');
                    document.body.removeChild(textArea);
                    return successful;
                }
            } catch (err) {
                console.error('å¤åˆ¶å¤±è´¥:', err);
                return false;
            }
        }
        
        // æ˜¾ç¤ºå¤åˆ¶åé¦ˆ
        function showCopyFeedback() {
            const feedback = document.getElementById('copy-feedback');
            feedback.style.display = 'block';
            
            // 3ç§’åè‡ªåŠ¨éšè—
            setTimeout(() => {
                feedback.style.display = 'none';
            }, 3000);
        }
        
        // é”™è¯¯å¤„ç†ä¼˜åŒ–
        function handleError(error, context = '') {
            console.error('å°å…­å£¬åº”ç”¨é”™è¯¯:', error, 'ä¸Šä¸‹æ–‡:', context);
            
            // å‹å¥½çš„é”™è¯¯æç¤º
            const errorMsg = error.message || 'å‘ç”Ÿäº†æœªçŸ¥é”™è¯¯';
            if (errorMsg.includes('ç½‘ç»œ') || errorMsg.includes('è”ç½‘')) {
                alert('ç½‘ç»œè¿æ¥å¼‚å¸¸ï¼Œä½†ç¦»çº¿åŠŸèƒ½ä»ç„¶å¯ç”¨');
            } else if (errorMsg.includes('æœåŠ¡')) {
                alert('æœåŠ¡æš‚æ—¶ä¸å¯ç”¨ï¼Œè¯·ç¨åé‡è¯•');
            } else {
                alert('æ“ä½œå¤±è´¥ï¼š' + errorMsg);
            }
        }
        
        // å¼€å§‹æµ‹ç®—åŠŸèƒ½
        function handleCalculate() {
            const question = questionInput.value.trim();
            
            if (!question) {
                alert('è¯·è¾“å…¥æ‚¨æƒ³æµ‹ç®—çš„é—®é¢˜');
                return;
            }
            
            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            submitBtn.disabled = true;
            submitBtn.innerHTML = 'ğŸ”® æ¨æ¼”ä¸­...';
            
            try {
                // è·å–ä¸‰ä¸ªæ•°å­—ï¼ˆæ”¯æŒéšæœºä¸‰æ•°å’Œé˜´å†æ—¶è¾°ä¸¤ç§æ–¹å¼ï¼‰
                const numbers = getThreeNumbers();
                
                // è®¡ç®—å¦è±¡ç»“æœ
                const gods = calculateDivination(numbers);
                
                // æ˜¾ç¤ºç»“æœ
                showFinalResults(gods, question, numbers);
                
                // æ»šåŠ¨åˆ°ç»“æœåŒºåŸŸ
                resultSection.scrollIntoView({ behavior: 'smooth' });
                
            } catch (error) {
                console.error('æµ‹ç®—è¿‡ç¨‹ä¸­å‡ºé”™:', error);
                alert('æµ‹ç®—è¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯ï¼Œè¯·é‡è¯•');
            } finally {
                // æ¢å¤æŒ‰é’®çŠ¶æ€
                setTimeout(() => {
                    submitBtn.disabled = false;
                    submitBtn.textContent = 'å¼€å§‹æµ‹ç®—';
                }, 2000);
            }
        }
        
        // äº‹ä»¶ç›‘å¬å™¨è®¾ç½®
        radioOptions.forEach(option => {
            option.addEventListener('click', () => {
                switchDivinationType(option.dataset.value);
            });
        });
        
        submitBtn.addEventListener('click', handleCalculate);
        
        resetBtn.addEventListener('click', () => {
            questionInput.value = '';
            document.getElementById('num1').value = '';
            document.getElementById('num2').value = '';
            document.getElementById('num3').value = '';
            document.getElementById('lunar-month').value = '';
            document.getElementById('lunar-day').value = '';
            document.getElementById('lunar-hour').value = '';
            
            // éšè—æ‰€æœ‰ç»“æœåŒºåŸŸ
            resultSection.classList.remove('show');
            document.getElementById('result-display').style.display = 'none';
            document.getElementById('god-details').style.display = 'none';
            document.getElementById('advice-section').style.display = 'none';
            document.getElementById('ai-analysis-section').style.display = 'none';
            
            // æ¸…ç©ºå†…å®¹
            document.getElementById('final-gods').innerHTML = '';
            document.getElementById('final-result').innerHTML = '';
            document.getElementById('qwen-analysis-content').innerHTML = '';
            document.getElementById('deepseek-analysis-content').innerHTML = '';
            document.getElementById('compare-analysis-content').innerHTML = '';
            
            // é‡ç½®AIåˆ†æçŠ¶æ€
            aiAnalysisState.currentTab = 'qwen';
            aiAnalysisState.qwenAnalyzed = false;
            aiAnalysisState.deepseekAnalyzed = false;
            aiAnalysisState.compareAnalyzed = false;
            aiAnalysisState.gods = null;
            aiAnalysisState.question = null;
            aiAnalysisState.numbers = null;
            
            // é‡ç½®æ ‡ç­¾é¡µæ˜¾ç¤º
            document.getElementById('qwen-tab').classList.add('active');
            document.getElementById('deepseek-tab').classList.remove('active');
            document.getElementById('compare-tab').classList.remove('active');
            document.getElementById('qwen-content').classList.add('active');
            document.getElementById('deepseek-content').classList.remove('active');
            document.getElementById('compare-content').classList.remove('active');
            
            questionInput.focus();
        });
        
        // å¤åˆ¶æŒ‰é’®äº‹ä»¶ç›‘å¬å™¨
        copyBtn.addEventListener('click', async () => {
            const adviceContent = document.getElementById('advice-content');
            const copyText = adviceContent.textContent.trim();
            
            if (!copyText) {
                handleError(new Error('æ²¡æœ‰å¯å¤åˆ¶çš„å†…å®¹'), 'copy');
                return;
            }
            
            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            copyBtn.disabled = true;
            const originalText = copyBtn.querySelector('.copy-text').textContent;
            copyBtn.querySelector('.copy-text').textContent = 'å¤åˆ¶ä¸­...';
            
            try {
                const success = await copyToClipboard(copyText);
                if (success) {
                    showCopyFeedback();
                } else {
                    throw new Error('å¤åˆ¶æ“ä½œå¤±è´¥');
                }
            } catch (error) {
                handleError(error, 'copy');
                // å¦‚æœå¤åˆ¶å¤±è´¥ï¼Œå¯ä»¥æä¾›æ‰‹åŠ¨é€‰æ‹©çš„æç¤º
                alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨é€‰æ‹©æ–‡æœ¬å¹¶å¤åˆ¶');
            } finally {
                // æ¢å¤æŒ‰é’®çŠ¶æ€
                copyBtn.disabled = false;
                copyBtn.querySelector('.copy-text').textContent = originalText;
            }
        });
        
        // åˆå§‹åŒ–
        initDaySelect();
        initAITabs();
        
        // é˜¿é‡Œäº‘é€šä¹‰åƒé—®API åˆ†æåŠŸèƒ½
        const DASHSCOPE_API_KEY = localStorage.getItem('DASHSCOPE_API_KEY') || 'sk-644c0d791a2f4a06a1a42a521a826e71';
        const DASHSCOPE_API_URL = 'https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions';
        
        // DeepSeek API åˆ†æåŠŸèƒ½
        const DEEPSEEK_API_KEY = localStorage.getItem('DEEPSEEK_API_KEY') || 'sk-4bf2dc7c99c64177b9ab41eb68604be6';
        const DEEPSEEK_API_URL = 'https://api.deepseek.com/chat/completions';
        const DEEPSEEK_MODEL = 'deepseek-chat';
        
        // AIåˆ†æé¡µé¢çŠ¶æ€ç®¡ç†
        const aiAnalysisState = {
            currentTab: 'qwen',
            qwenAnalyzed: false,
            deepseekAnalyzed: false,
            compareAnalyzed: false,
            gods: null,
            question: null,
            numbers: null
        };
        
        // è°ƒç”¨é˜¿é‡Œäº‘é€šä¹‰åƒé—®APIåˆ†æå¦è±¡
        async function analyzeWithQwen(gods, question, numbers) {
            const aiAnalysisSection = document.getElementById('ai-analysis-section');
            const qwenContent = document.getElementById('qwen-analysis-content');
            
            // æ›´æ–°çŠ¶æ€
            aiAnalysisState.gods = gods;
            aiAnalysisState.question = question;
            aiAnalysisState.numbers = numbers;
            
            // å¦‚æœå·²ç»åˆ†æè¿‡ï¼Œç›´æ¥æ˜¾ç¤ºç»“æœ
            if (aiAnalysisState.qwenAnalyzed) {
                return;
            }
            
            // æ˜¾ç¤ºåˆ†æåŒºåŸŸ
            aiAnalysisSection.style.display = 'block';
            qwenContent.innerHTML = `
                <div style="text-align: center; color: #ccc; padding: 40px;">
                    <div style="font-size: 18px; margin-bottom: 10px;">ğŸ¤–</div>
                    <div>æ­£åœ¨è°ƒç”¨é€šä¹‰åƒé—®è¿›è¡Œæ·±åº¦åˆ†æ...</div>
                    <div style="font-size: 12px; margin-top: 10px; color: #666;">
                        åŸºäºå¦è±¡ï¼š${gods.join(' â†’ ')}<br>
                        é—®é¢˜ï¼š${question}
                    </div>
                </div>
            `;
            
            // æ»šåŠ¨åˆ°AIåˆ†æåŒºåŸŸ
            aiAnalysisSection.scrollIntoView({ behavior: 'smooth' });
            
            try {
                // æ„å»ºåˆ†ææç¤ºè¯
                const analysisPrompt = `ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å°å…­å£¬å¦è±¡åˆ†æå¸ˆã€‚ç”¨æˆ·é€šè¿‡å°å…­å£¬èµ·å¦ï¼Œå¾—åˆ°çš„å¦è±¡æ˜¯ï¼š${gods.join(' â†’ ')}ã€‚

æµ‹ç®—é—®é¢˜ï¼š${question}
èµ·å¦æ•°å­—ï¼š${numbers.join('ã€')}
å½“å‰æ—¶é—´ï¼š${new Date().toLocaleString('zh-CN')}

è¯·ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢è¿›è¡Œè¯¦ç»†åˆ†æï¼š
1. å¦è±¡å«ä¹‰ï¼šè§£é‡Šæ¯ä¸ªç¥å…†çš„å‰å‡¶å¯“æ„
2. æ•´ä½“è¿åŠ¿ï¼šåˆ†æå½“å‰äº‹æƒ…çš„æ•´ä½“å‘å±•è¶‹åŠ¿
3. æ—¶æœºåˆ†æï¼šåˆ¤æ–­åšäº‹çš„æœ‰åˆ©æ—¶æœº
4. æ³¨æ„äº‹é¡¹ï¼šæŒ‡å‡ºéœ€è¦é˜²èŒƒçš„é—®é¢˜
5. å…·ä½“å»ºè®®ï¼šç»™å‡ºåˆ‡å®å¯è¡Œçš„è¡ŒåŠ¨å»ºè®®

è¯·ç”¨æ¸©æš–ã€ä¸“ä¸šã€æ˜“æ‡‚çš„è¯­è¨€è¿›è¡Œåˆ†æï¼Œå­—æ•°æ§åˆ¶åœ¨800-1200å­—å·¦å³ã€‚`;
                
                const response = await fetch(DASHSCOPE_API_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${DASHSCOPE_API_KEY}`
                    },
                    body: JSON.stringify({
                        model: 'qwen-max',
                        messages: [
                            {
                                role: 'user',
                                content: analysisPrompt
                            }
                        ],
                        max_tokens: 2000,
                        temperature: 0.7
                    })
                });
                
                if (!response.ok) {
                    throw new Error(`é˜¿é‡Œäº‘é€šä¹‰åƒé—®APIè°ƒç”¨å¤±è´¥: ${response.status}`);
                }
                
                const data = await response.json();
                const aiResponse = data.choices[0].message.content;
                
                // æ ‡è®°ä¸ºå·²åˆ†æ
                aiAnalysisState.qwenAnalyzed = true;
                
                // æ˜¾ç¤ºAIåˆ†æç»“æœ
                qwenContent.innerHTML = `
                    <div class="ai-analysis-result">
                        <h3 style="color: #4CAF50; margin-bottom: 20px; display: flex; align-items: center;">
                            <span style="margin-right: 8px;">ğŸ¤–</span>
                            é€šä¹‰åƒé—® AIæ·±åº¦åˆ†æ
                        </h3>
                        <div class="ai-text" style="color: #ddd; line-height: 1.8; white-space: pre-wrap;">
                            ${aiResponse}
                        </div>
                        <div class="ai-footer" style="margin-top: 30px; padding: 15px; background: #333; border-radius: 6px; color: #aaa; font-size: 12px;">
                            <div style="text-align: center;">
                                <strong>ğŸ¤– åˆ†ææ—¶é—´ï¼š</strong>${new Date().toLocaleString('zh-CN')}<br>
                                <strong>ğŸ¯ å¦è±¡ï¼š</strong>${gods.join(' â†’ ')}<br>
                                <strong>â“ é—®é¢˜ï¼š</strong>${question}<br>
                                <strong style="color: #888; margin-top: 10px; display: block;">ä»…ä¾›å‚è€ƒå¨±ä¹ï¼Œè¯·ç†æ€§å¯¹å¾…</strong>
                            </div>
                        </div>
                    </div>
                `;
                
            } catch (error) {
                console.error('é€šä¹‰åƒé—®AIåˆ†æå‡ºé”™:', error);
                qwenContent.innerHTML = `
                    <div style="text-align: center; color: #FF6B6B; padding: 40px;">
                        <div style="font-size: 18px; margin-bottom: 10px;">âŒ</div>
                        <div>é€šä¹‰åƒé—® AIåˆ†ææœåŠ¡æš‚æ—¶ä¸å¯ç”¨</div>
                        <div style="font-size: 12px; margin-top: 10px; color: #888;">
                            ${error.message || 'ç½‘ç»œè¿æ¥é”™è¯¯æˆ–APIé…ç½®é—®é¢˜'}
                        </div>
                        <div style="margin-top: 20px; padding: 15px; background: #333; border-radius: 6px; text-align: left;">
                            <div style="color: #ccc; font-size: 14px;">
                                <strong>æ‰‹åŠ¨é…ç½®æ–¹æ³•ï¼š</strong><br>
                                1. è¯·åœ¨ä»£ç ä¸­è®¾ç½®æ‚¨çš„DASHSCOPE APIå¯†é’¥<br>
                                2. æ£€æŸ¥ç½‘ç»œè¿æ¥çŠ¶æ€<br>
                                3. ç¡®è®¤é˜¿é‡Œäº‘é€šä¹‰åƒé—®APIæœåŠ¡æ­£å¸¸
                            </div>
                        </div>
                    </div>
                `;
            }
        }
        
        // è°ƒç”¨DeepSeek APIåˆ†æå¦è±¡
        async function analyzeWithDeepSeek(gods, question, numbers) {
            const deepseekContent = document.getElementById('deepseek-analysis-content');
            
            // å¦‚æœæ²¡æœ‰å¦è±¡æ•°æ®ï¼Œä»çŠ¶æ€ä¸­è·å–
            if (!aiAnalysisState.gods) {
                aiAnalysisState.gods = gods;
                aiAnalysisState.question = question;
                aiAnalysisState.numbers = numbers;
            }
            
            // å¦‚æœå·²ç»åˆ†æè¿‡ï¼Œç›´æ¥æ˜¾ç¤ºç»“æœ
            if (aiAnalysisState.deepseekAnalyzed) {
                return;
            }
            
            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            deepseekContent.innerHTML = `
                <div style="text-align: center; color: #ccc; padding: 40px;">
                    <div style="font-size: 18px; margin-bottom: 10px;">ğŸ¤–</div>
                    <div>æ­£åœ¨è°ƒç”¨DeepSeekè¿›è¡Œæ·±åº¦åˆ†æ...</div>
                    <div style="font-size: 12px; margin-top: 10px; color: #666;">
                        åŸºäºå¦è±¡ï¼š${aiAnalysisState.gods.join(' â†’ ')}<br>
                        é—®é¢˜ï¼š${aiAnalysisState.question}
                    </div>
                </div>
            `;
            
            try {
                // æ„å»ºåˆ†ææç¤ºè¯
                const analysisPrompt = `ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å°å…­å£¬å¦è±¡åˆ†æå¸ˆã€‚ç”¨æˆ·é€šè¿‡å°å…­å£¬èµ·å¦ï¼Œå¾—åˆ°çš„å¦è±¡æ˜¯ï¼š${aiAnalysisState.gods.join(' â†’ ')}ã€‚

æµ‹ç®—é—®é¢˜ï¼š${aiAnalysisState.question}
èµ·å¦æ•°å­—ï¼š${aiAnalysisState.numbers.join('ã€')}
å½“å‰æ—¶é—´ï¼š${new Date().toLocaleString('zh-CN')}

è¯·ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢è¿›è¡Œè¯¦ç»†åˆ†æï¼š
1. å¦è±¡å«ä¹‰ï¼šè§£é‡Šæ¯ä¸ªç¥å…†çš„å‰å‡¶å¯“æ„
2. æ•´ä½“è¿åŠ¿ï¼šåˆ†æå½“å‰äº‹æƒ…çš„æ•´ä½“å‘å±•è¶‹åŠ¿
3. æ—¶æœºåˆ†æï¼šåˆ¤æ–­åšäº‹çš„æœ‰åˆ©æ—¶æœº
4. æ³¨æ„äº‹é¡¹ï¼šæŒ‡å‡ºéœ€è¦é˜²èŒƒçš„é—®é¢˜
5. å…·ä½“å»ºè®®ï¼šç»™å‡ºåˆ‡å®å¯è¡Œçš„è¡ŒåŠ¨å»ºè®®

è¯·ç”¨æ¸©æš–ã€ä¸“ä¸šã€æ˜“æ‡‚çš„è¯­è¨€è¿›è¡Œåˆ†æï¼Œå­—æ•°æ§åˆ¶åœ¨800-1200å­—å·¦å³ã€‚`;
                
                const response = await fetch(DEEPSEEK_API_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-API-Key': DEEPSEEK_API_KEY
                    },
                    body: JSON.stringify({
                        model: DEEPSEEK_MODEL,
                        messages: [
                            {
                                role: 'user',
                                content: analysisPrompt
                            }
                        ],
                        max_tokens: 2000,
                        temperature: 0.7
                    })
                });
                
                if (!response.ok) {
                    throw new Error(`DeepSeek APIè°ƒç”¨å¤±è´¥: ${response.status}`);
                }
                
                const data = await response.json();
                const aiResponse = data.choices[0].message.content;
                
                // æ ‡è®°ä¸ºå·²åˆ†æ
                aiAnalysisState.deepseekAnalyzed = true;
                
                // æ˜¾ç¤ºAIåˆ†æç»“æœ
                deepseekContent.innerHTML = `
                    <div class="ai-analysis-result">
                        <h3 style="color: #4CAF50; margin-bottom: 20px; display: flex; align-items: center;">
                            <span style="margin-right: 8px;">ğŸ¤–</span>
                            DeepSeek AIæ·±åº¦åˆ†æ
                        </h3>
                        <div class="ai-text" style="color: #ddd; line-height: 1.8; white-space: pre-wrap;">
                            ${aiResponse}
                        </div>
                        <div class="ai-footer" style="margin-top: 30px; padding: 15px; background: #333; border-radius: 6px; color: #aaa; font-size: 12px;">
                            <div style="text-align: center;">
                                <strong>ğŸ¤– åˆ†ææ—¶é—´ï¼š</strong>${new Date().toLocaleString('zh-CN')}<br>
                                <strong>ğŸ¯ å¦è±¡ï¼š</strong>${aiAnalysisState.gods.join(' â†’ ')}<br>
                                <strong>â“ é—®é¢˜ï¼š</strong>${aiAnalysisState.question}<br>
                                <strong style="color: #888; margin-top: 10px; display: block;">ä»…ä¾›å‚è€ƒå¨±ä¹ï¼Œè¯·ç†æ€§å¯¹å¾…</strong>
                            </div>
                        </div>
                    </div>
                `;
                
            } catch (error) {
                console.error('DeepSeek AIåˆ†æå‡ºé”™:', error);
                deepseekContent.innerHTML = `
                    <div style="text-align: center; color: #FF6B6B; padding: 40px;">
                        <div style="font-size: 18px; margin-bottom: 10px;">âŒ</div>
                        <div>DeepSeek AIåˆ†ææœåŠ¡æš‚æ—¶ä¸å¯ç”¨</div>
                        <div style="font-size: 12px; margin-top: 10px; color: #888;">
                            ${error.message || 'ç½‘ç»œè¿æ¥é”™è¯¯æˆ–APIé…ç½®é—®é¢˜'}
                        </div>
                        <div style="margin-top: 20px; padding: 15px; background: #333; border-radius: 6px; text-align: left;">
                            <div style="color: #ccc; font-size: 14px;">
                                <strong>æ‰‹åŠ¨é…ç½®æ–¹æ³•ï¼š</strong><br>
                                1. è¯·åœ¨ä»£ç ä¸­è®¾ç½®æ‚¨çš„DeepSeek APIå¯†é’¥<br>
                                2. æ£€æŸ¥ç½‘ç»œè¿æ¥çŠ¶æ€<br>
                                3. ç¡®è®¤DeepSeek APIæœåŠ¡æ­£å¸¸
                            </div>
                        </div>
                    </div>
                `;
            }
        }
        
        // æ ‡ç­¾é¡µåˆ‡æ¢åŠŸèƒ½
        function switchAITab(tabName) {
            // æ›´æ–°æ ‡ç­¾çŠ¶æ€
            document.querySelectorAll('.ai-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.ai-tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // æ¿€æ´»å½“å‰æ ‡ç­¾
            const activeTab = document.getElementById(tabName + '-tab');
            const activeContent = document.getElementById(tabName + '-content');
            activeTab.classList.add('active');
            activeContent.classList.add('active');
            
            // æ›´æ–°çŠ¶æ€
            aiAnalysisState.currentTab = tabName;
            
            // æ ¹æ®æ ‡ç­¾é¡µè°ƒç”¨ç›¸åº”çš„AIåˆ†æ
            if (tabName === 'deepseek' && !aiAnalysisState.deepseekAnalyzed && aiAnalysisState.gods) {
                analyzeWithDeepSeek(aiAnalysisState.gods, aiAnalysisState.question, aiAnalysisState.numbers);
            } else if (tabName === 'qwen' && !aiAnalysisState.qwenAnalyzed && aiAnalysisState.gods) {
                analyzeWithQwen(aiAnalysisState.gods, aiAnalysisState.question, aiAnalysisState.numbers);
            } else if (tabName === 'compare' && !aiAnalysisState.compareAnalyzed && aiAnalysisState.qwenAnalyzed && aiAnalysisState.deepseekAnalyzed) {
                compareAnalyses();
            }
        }
        
        // å¯¹æ¯”åˆ†æåŠŸèƒ½
        async function compareAnalyses() {
            const compareContent = document.getElementById('compare-analysis-content');
            
            // è·å–å‰ä¸¤ä¸ªåˆ†æçš„ç»“æœ
            const qwenResultElement = document.getElementById('qwen-analysis-content');
            const deepseekResultElement = document.getElementById('deepseek-analysis-content');
            
            const qwenText = qwenResultElement.querySelector('.ai-text');
            const deepseekText = deepseekResultElement.querySelector('.ai-text');
            
            if (!qwenText || !deepseekText) {
                compareContent.innerHTML = `
                    <div style="text-align: center; color: #FFA726; padding: 40px;">
                        <div style="font-size: 18px; margin-bottom: 10px;">âš ï¸</div>
                        <div>è¯·å…ˆå®Œæˆå‰ä¸¤ä¸ªAIçš„åˆ†æï¼Œæ‰èƒ½è¿›è¡Œå¯¹æ¯”</div>
                        <div style="font-size: 12px; margin-top: 10px; color: #888;">
                            éœ€è¦é€šä¹‰åƒé—®å’ŒDeepSeekéƒ½å®Œæˆåˆ†æåï¼Œæ‰èƒ½è¿›è¡Œå¯¹æ¯”åˆ†æ
                        </div>
                    </div>
                `;
                return;
            }
            
            const qwenResult = qwenText.textContent.trim();
            const deepseekResult = deepseekText.textContent.trim();
            const gods = aiAnalysisState.gods;
            const question = aiAnalysisState.question;
            const numbers = aiAnalysisState.numbers;
            
            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            compareContent.innerHTML = `
                <div style="text-align: center; color: #ccc; padding: 40px;">
                    <div style="font-size: 18px; margin-bottom: 10px;">ğŸ”</div>
                    <div>æ­£åœ¨è¿›è¡Œå¯¹æ¯”åˆ†æ...</div>
                    <div style="font-size: 12px; margin-top: 10px; color: #666;">
                        åŸºäºå¦è±¡ï¼š${gods.join(' â†’ ')}<br>
                        é—®é¢˜ï¼š${question}
                    </div>
                </div>
            `;
            
            try {
                // æ„å»ºå¯¹æ¯”åˆ†ææç¤ºè¯
                const comparisonPrompt = `ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å°å…­å£¬å¦è±¡å¯¹æ¯”åˆ†æå¸ˆã€‚ä½ éœ€è¦å¯¹ä¸¤ä¸ªä¸åŒAIå¼•æ“çš„å¦è±¡åˆ†æç»“æœè¿›è¡Œä¸“ä¸šå¯¹æ¯”ï¼Œå¹¶ç»™å‡ºæœ€ç»ˆæ›´åˆç†ã€æ›´å‡†ç¡®çš„è§£ç­”ã€‚
                
å¦è±¡ä¿¡æ¯ï¼š
å¦è±¡åºåˆ—ï¼š${gods.join(' â†’ ')}
æµ‹ç®—é—®é¢˜ï¼š${question}
èµ·å¦æ•°å­—ï¼š${numbers.join('ã€')}
å½“å‰æ—¶é—´ï¼š${new Date().toLocaleString('zh-CN')}

ä¸¤ä¸ªAIçš„åˆ†æç»“æœï¼š

ã€é€šä¹‰åƒé—®åˆ†æç»“æœã€‘ï¼š
${qwenResult}

ã€DeepSeekåˆ†æç»“æœã€‘ï¼š
${deepseekResult}

è¯·ä»ä»¥ä¸‹å‡ ä¸ªç»´åº¦è¿›è¡Œæ·±å…¥å¯¹æ¯”åˆ†æï¼š
1. è§‚ç‚¹å¯¹æ¯”ï¼šåˆ†æä¸¤ä¸ªåˆ†æåœ¨æ ¸å¿ƒè§‚ç‚¹ä¸Šçš„å¼‚åŒ
2. å‡†ç¡®æ€§è¯„ä¼°ï¼šåŸºäºä¼ ç»Ÿå°å…­å£¬ç†è®ºï¼Œè¯„ä¼°ä¸¤ç§åˆ†æçš„å‡†ç¡®æ€§å’Œåˆç†æ€§
3. è¡¥å……å®Œå–„ï¼šè¯†åˆ«å„è‡ªåˆ†æä¸­çš„ä¼˜ç‚¹å’Œä¸è¶³
4. ç»¼åˆåˆ¤æ–­ï¼šç»¼åˆä¸¤ç§åˆ†æçš„ä¼˜ç‚¹ï¼Œç»™å‡ºæœ€åˆç†ã€æœ€å‡†ç¡®çš„æœ€ç»ˆè§£ç­”
5. å®ç”¨æ€§å»ºè®®ï¼šæä¾›å…·ä½“å¯è¡Œçš„è¡ŒåŠ¨å»ºè®®

è¯·ç”¨ä¸“ä¸šã€å®¢è§‚ã€ä¸¥è°¨çš„åˆ†æé£æ ¼ï¼Œç¡®ä¿å¯¹æ¯”å®¢è§‚å…¬æ­£ï¼Œæœ€ç»ˆç»“è®ºå…·æœ‰å®ç”¨ä»·å€¼ã€‚å­—æ•°æ§åˆ¶åœ¨1000-1500å­—ã€‚`;
                
                const response = await fetch(DASHSCOPE_API_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${DASHSCOPE_API_KEY}`
                    },
                    body: JSON.stringify({
                        model: 'qwen-max',
                        messages: [
                            {
                                role: 'user',
                                content: comparisonPrompt
                            }
                        ],
                        max_tokens: 2500,
                        temperature: 0.7
                    })
                });
                
                if (!response.ok) {
                    throw new Error(`é€šä¹‰åƒé—®APIè°ƒç”¨å¤±è´¥: ${response.status}`);
                }
                
                const data = await response.json();
                const aiResponse = data.choices[0].message.content;
                
                // æ ‡è®°ä¸ºå·²åˆ†æ
                aiAnalysisState.compareAnalyzed = true;
                
                // æ˜¾ç¤ºå¯¹æ¯”åˆ†æç»“æœ
                compareContent.innerHTML = `
                    <div class="ai-analysis-result">
                        <h3 style="color: #4CAF50; margin-bottom: 20px; display: flex; align-items: center;">
                            <span style="margin-right: 8px;">ğŸ”</span>
                            AIå¯¹æ¯”åˆ†ææŠ¥å‘Š
                        </h3>
                        <div class="ai-text" style="color: #ddd; line-height: 1.8; white-space: pre-wrap;">
                            ${aiResponse}
                        </div>
                        <div class="ai-footer" style="margin-top: 30px; padding: 15px; background: #333; border-radius: 6px; color: #aaa; font-size: 12px;">
                            <div style="text-align: center;">
                                <strong>ğŸ¤– å¯¹æ¯”åˆ†ææ—¶é—´ï¼š</strong>${new Date().toLocaleString('zh-CN')}<br>
                                <strong>ğŸ¯ å¦è±¡ï¼š</strong>${gods.join(' â†’ ')}<br>
                                <strong>â“ é—®é¢˜ï¼š</strong>${question}<br>
                                <strong style="color: #888; margin-top: 10px; display: block;">ä»…ä¾›å‚è€ƒå¨±ä¹ï¼Œè¯·ç†æ€§å¯¹å¾…</strong>
                            </div>
                        </div>
                    </div>
                `;
                
            } catch (error) {
                console.error('å¯¹æ¯”åˆ†æå‡ºé”™:', error);
                compareContent.innerHTML = `
                    <div style="text-align: center; color: #FF6B6B; padding: 40px;">
                        <div style="font-size: 18px; margin-bottom: 10px;">âŒ</div>
                        <div>å¯¹æ¯”åˆ†ææœåŠ¡æš‚æ—¶ä¸å¯ç”¨</div>
                        <div style="font-size: 12px; margin-top: 10px; color: #888;">
                            ${error.message || 'ç½‘ç»œè¿æ¥é”™è¯¯æˆ–APIé…ç½®é—®é¢˜'}
                        </div>
                        <div style="margin-top: 20px; padding: 15px; background: #333; border-radius: 6px; text-align: left;">
                            <div style="color: #ccc; font-size: 14px;">
                                <strong>æ‰‹åŠ¨é…ç½®æ–¹æ³•ï¼š</strong><br>
                                1. è¯·ç¡®ä¿å‰ä¸¤ä¸ªAIåˆ†æå·²å®Œæˆ<br>
                                2. æ£€æŸ¥ç½‘ç»œè¿æ¥çŠ¶æ€<br>
                                3. ç¡®è®¤é€šä¹‰åƒé—®APIæœåŠ¡æ­£å¸¸
                            </div>
                        </div>
                    </div>
                `;
            }
        }
        
        // åˆå§‹åŒ–æ ‡ç­¾é¡µäº‹ä»¶ç›‘å¬å™¨
        function initAITabs() {
            const qwenTab = document.getElementById('qwen-tab');
            const deepseekTab = document.getElementById('deepseek-tab');
            const compareTab = document.getElementById('compare-tab');
            
            qwenTab.addEventListener('click', () => switchAITab('qwen'));
            deepseekTab.addEventListener('click', () => switchAITab('deepseek'));
            compareTab.addEventListener('click', () => switchAITab('compare'));
        }
        
    </script>
</body>
</html>