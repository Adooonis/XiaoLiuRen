# 小六壬神课 - 智能起卦工具

> 传统小六壬起卦工具，融合现代AI技术，为您提供360度全方位的卦象解读体验

[![版本](https://img.shields.io/badge/版本-3.0-blue.svg)](https://github.com/your-repo/liuren-app)
[![AI引擎](https://img.shields.io/badge/AI引擎-通义千问%20%7C%20DeepSeek-green.svg)](#功能特性)
[![许可证](https://img.shields.io/badge/许可证-MIT-yellow.svg)](#许可证)

## 🎯 项目概述

小六壬神课是一款基于传统小六壬占卜学说的智能起卦工具，结合了阿里云通义千问和DeepSeek两个AI引擎的分析能力，为用户提供专业、准确、易懂的卦象解读服务。

### ✨ 核心亮点

- 🔮 **传统算法** - 严格遵循小六壬六神体系和计算规则
- 🤖 **双AI分析** - 通义千问 + DeepSeek 双重分析保障
- ⚖️ **智能对比** - AI对比分析，提供最合理答案
- 📱 **响应式设计** - 完美适配桌面端和移动端
- 🎨 **古典美学** - 采用传统中式设计风格

## 📁 文件结构

```
小六壬神课/
├── index.html                     # 主应用文件（推荐使用）
├── index_test.html                # 测试版本
├── 小六壬神课_最终版.html          # 完整功能版本
├── AI分析翻页功能验证.html         # 功能验证页面
├── 三页AI分析功能完成验证.html      # 完整功能验证
├── 通义千问API集成完成报告.md       # 技术文档
├── AI指令格式更新报告.md           # 更新说明
└── README.md                      # 项目说明文档
```

## 🚀 功能特性

### 1. 🤖 三页AI分析系统

#### 第一页：通义千问分析
- **模型**: 阿里云通义千问 qwen-max
- **特点**: 专业中文分析，温暖易懂的表达
- **API配置**: DASHSCOPE_API_KEY（已预设）
- **分析维度**: 
  - 卦象含义：解释每个神兆的吉凶寓意
  - 整体运势：分析当前事情的整体发展趋势
  - 时机分析：判断做事的有利时机
  - 注意事项：指出需要防范的问题
  - 具体建议：给出切实可行的行动建议

#### 第二页：DeepSeek分析  
- **模型**: DeepSeek deepseek-chat
- **特点**: 逻辑推理式分析，严谨客观
- **API配置**: DEEPSEEK_API_KEY = sk-4bf2dc7c99c64177b9ab41eb68604be6
- **分析风格**: 基于逻辑推理的卦象分析，注重因果关系

#### 第三页：智能对比分析
- **模型**: 通义千问 qwen-max（对比分析专用）
- **特点**: 客观对比两页结果，给出最终合理答案
- **分析维度**: 
  - **观点对比**: 分析两个AI在核心观点上的异同
  - **准确性评估**: 基于传统小六壬理论评估合理性
  - **补充完善**: 识别各自分析中的优点和不足  
  - **综合判断**: 综合两种分析优点，给出最合理的最终解答
  - **实用性建议**: 提供具体可行的行动建议

### 2. 🔮 起卦功能

- **起卦方式**: 传统掐指起卦法和数字起卦法
- **时间选择**: 农历年月日内时支持
- **数字输入**: 三位数字起卦法（1-999）
- **六神体系**: 完整的大安、留连、速喜、赤口、小吉、空亡体系
- **算法验证**: 严格遵循传统小六壬计算规则

### 3. 📋 分析报告

- **传统解读**: 每个神兆的详细含义和古法解释
- **AI分析报告**: 三页深度分析，提供不同视角解读
- **卦象解读**: 三神兆序列解读（起始→发展→结果）
- **生成AI指令**: 一键复制完整分析提示词到其他AI平台

### 4. 🎨 用户体验

- **翻页设计**: 流畅的标签页切换，智能API调用
- **状态管理**: 分析结果缓存，避免重复调用
- **加载提示**: 优雅的加载动画和进度提示
- **错误处理**: 完善的异常处理和用户友好提示
- **响应式布局**: 完美适配各种屏幕尺寸

## 🎮 使用方法

### 第一步：选择起卦方式
1. **掐指起卦** - 选择当前时间（年、月、日、时）
2. **数字起卦** - 输入任意三位数字

### 第二步：开始起卦
1. 在"测算问题"输入框中输入您要询问的问题
2. 根据选择的起卦方式填写相应信息
3. 点击"开始测算"按钮

### 第三步：查看结果
1. **传统解读** - 查看六神含义和卦象解释
2. **AI分析** - 点击"获取AI分析"按钮

### 第四步：三页AI分析
1. **第一页** - 查看通义千问分析结果
2. **第二页** - 查看DeepSeek分析结果  
3. **第三页** - 获得智能对比分析报告

### 第五步：复制使用
- 点击"复制AI指令"按钮，可将完整分析提示词复制到其他AI平台

## ⚙️ 配置说明

### API密钥配置

#### 通义千问配置
```javascript
const DASHSCOPE_API_KEY = 'sk-644c0d791a2f4a06a1a42a521a826e71'; // 已预设
const DASHSCOPE_API_URL = 'https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions';
```

#### DeepSeek配置
```javascript
const DEEPSEEK_API_KEY = 'sk-4bf2dc7c99c64177b9ab41eb68604be6'; // 已配置默认密钥
const DEEPSEEK_API_URL = 'https://api.deepseek.com/chat/completions';
```

### 本地配置
- 支持localStorage存储API密钥
- 首次使用时系统会引导配置
- 建议使用专用API密钥以获得最佳体验

## 🔧 技术特性

### 前端技术栈
- **HTML5** - 语义化标签结构
- **CSS3** - 响应式布局 + 传统美学设计
- **Vanilla JavaScript** - 无框架依赖，轻量高效
- **LocalStorage** - 本地数据持久化
- **PWA支持** - 可安装到桌面，离线基础功能可用

### AI集成
- **通义千问API** - 阿里云大语言模型服务（qwen-max）
- **DeepSeek API** - 深度推理AI服务（deepseek-chat）
- **智能缓存** - 避免重复API调用
- **错误处理** - 完善的异常处理机制
- **状态管理** - aiAnalysisState对象管理分析状态

### 兼容性
- ✅ Chrome 90+
- ✅ Firefox 88+  
- ✅ Safari 14+
- ✅ Edge 90+
- ✅ 移动端浏览器
- ✅ PWA应用安装

## 📊 更新日志

### v3.0 (2025-11-21)
#### 🎉 重大功能更新
- ✨ **新增双AI引擎分析系统**
  - 通义千问分析（第一页）
  - DeepSeek分析（第二页）
  - 智能对比分析（第三页）

- 🔧 **翻页功能实现**
  - 流畅的标签页切换
  - 智能API调用逻辑
  - 状态管理和缓存

- 🔧 **DeepSeek API集成**
  - API密钥配置：sk-4bf2dc7c99c64177b9ab41eb68604be6
  - 完整的分析函数实现
  - 错误处理和用户提示

- 🔧 **对比分析功能**
  - 专业的对比分析prompt
  - 五个维度的深入分析
  - 通义千问作为对比分析引擎

- 📝 **优化改进**
  - AI指令格式统一优化
  - Prompt工程优化
  - 用户体验细节完善
  - 移动端适配优化

### v2.0 (2025-11-20)
- 🔧 API从DeepSeek迁移到通义千问
- 🎨 AI指令格式统一优化
- 📱 响应式设计改进
- 🔍 错误处理机制完善

### v1.0 (2025-11-19)
- 🎉 初始版本发布
- 🔮 基础起卦功能
- 🤖 单AI分析集成
- 📱 PWA应用支持

## 🎯 使用建议

### 新手用户
1. 从 `index.html` 开始使用
2. 先熟悉传统起卦方法
3. 逐步体验AI分析功能
4. 重点体验三页对比分析

### 高级用户
1. 使用 `小六壬神课_最终版.html` 获得完整功能
2. 利用复制功能在外部AI平台验证
3. 参考对比分析提升理解
4. 自定义分析需求

### 开发者
1. 查看相关技术文档
2. 参考API集成方案
3. 自定义分析prompt
4. 扩展功能模块

## 📋 文件说明

| 文件名 | 用途 | 特点 |
|--------|------|------|
| `index.html` | 主应用文件 | 推荐日常使用，功能完整 |
| `index_test.html` | 测试版本 | 功能与主文件一致 |
| `小六壬神课_最终版.html` | 完整功能版本 | 集成所有特性 |
| `AI分析翻页功能验证.html` | 功能验证 | 展示翻页功能实现 |
| `三页AI分析功能完成验证.html` | 完整验证 | 展示所有新功能 |

## ⚠️ 重要提醒

### 使用声明
- 本工具仅供娱乐和学习使用
- 卦象分析结果仅供参考，不构成决策建议
- 请理性对待，占卜结果不代表未来必然发生

### 隐私保护
- 所有数据处理在浏览器本地进行
- API调用不会存储用户个人信息
- 建议定期清理浏览器数据

### API使用
- 通义千问服务：需阿里云账号和API密钥
- DeepSeek服务：已配置默认密钥，建议使用专用密钥
- API调用可能产生费用，请合理使用
- 支持本地存储API密钥

### 技术限制
- AI分析需要网络连接
- 离线状态下仅支持基础测算功能
- 浏览器需支持localStorage和fetch API

## 🤝 贡献指南

我们欢迎各种形式的贡献：

### 问题反馈
- 🐛 Bug报告和功能问题
- 💡 功能建议和改进意见  
- 📖 文档完善和翻译
- 🎨 UI/UX设计建议

### 技术贡献
- 🔧 代码优化和重构
- 🚀 性能改进和优化
- 🔐 安全性和稳定性提升
- 📱 移动端体验优化

### 内容贡献
- 📝 Prompt优化和AI指令改进
- 🎯 分析逻辑和算法改进
- 🌍 国际化多语言支持
- 📚 文档和使用指南编写

## 📞 技术支持

- **项目作者**: MiniMax Agent
- **技术支持**: 通过GitHub Issues提交
- **反馈建议**: 欢迎提交Pull Request
- **文档更新**: 持续维护技术文档

## 📄 许可证

本项目采用 [MIT License](LICENSE) 开源协议，您可以：
- ✅ 自由使用和修改
- ✅ 商业使用
- ✅ 分发和再许可
- ✅ 私人使用

具体条款请参阅许可证文件。

## 🙏 致谢

感谢所有为项目做出贡献的开发者和用户：
- 传统小六壬文化的传承者
- 现代AI技术的推动者
- 开源社区的支持者

---

<div align="center">

**🙏 感谢您选择小六壬神课**

**🔮 传统智慧 × 现代AI = 更准确的卦象解读**

**[开始使用](index.html) • [功能验证](AI分析翻页功能验证.html) • [完整功能](小六壬神课_最终版.html)**

*古法新用，智能占卜，趋吉避凶*

</div>